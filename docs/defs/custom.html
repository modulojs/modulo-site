<!DOCTYPE html><html>
        <head>
            <meta charset="utf8"><script src="../static/Modulo.html"></script><meta name="charset" charset="utf8" id="include_xxm0qoac"><meta name="content-type" http-equiv="Content-Type" content="text/html; charset=utf-8" id="include_xxnd8o0e"><meta name="viewport" content="width=device-width, initial-scale=1" id="include_x13l7u56"><meta name="robots" content="index, follow" id="include_xxriq75n"><meta name="revisit-after" content="30 days" id="include_x1m4jm9p">
            
                <script src="../static/Modulo.html"></script>
            
            <link rel="stylesheet" href="../buildpartial-xxpik5e0.css">
            <script defer="" src="../buildpartial-x1f6itgb.js"></script>
        </head>
        <body>
            
            
        <meta charset="utf8">
        <title>Custom Types - Modulo Documentation</title>
    
    <div class="layout Page">
        <nav class="page-nav Page">
            <a style="font-size:60px;text-align:center;display:block;font-weight:200" href="../" class="Page">·µê¬∞d·µò‚ÅÑo</a>
            <ul style="position: sticky; top: 1px" class="Page">
                <li class="toc--outer Page">
                    <p><a style="font-size: 70%" title="Download Modulo Docs as a offline-friendly zip" href="https://codeberg.org/modulo/docs/archive/main.zip" class="Page">
                            ‚§ì docs-main.zip</a>
                        <tt>v0.1.0</tt>
                    </p>
                </li>
                
                    <li class="toc--outer Page"><h3 class="Page">       Modulo</h3></li>
                    <li class="toc--"><a href="../start/index.html" class="Page">           Introduction</a></li>
                
                    
                    <li class="toc--"><a href="../start/getting-started.html" class="Page"> Getting Started</a></li>
                
                    <li class="toc--outer Page"><h3 class="Page">           Definitions</h3></li>
                    <li class="toc--"><a href="../defs/overview.html" class="Page">         Overview</a></li>
                
                    
                    <li class="toc--"><a href="../defs/importing.html" class="Page">        Importing</a></li>
                
                    
                    <li class="toc--"><a href="../defs/definitions.html" class="Page">      Definition Types</a></li>
                
                    
                    <li class="toc--"><a href="../defs/processors.html" class="Page">       Processors</a></li>
                
                    
                    <li class="toc--active Page"><a href="../defs/custom.html" class="Page">           Custom Types</a></li>
                
                    <li class="toc--outer Page"><h3 class="Page">  Templating</h3></li>
                    <li class="toc--"><a href="../templating/index.html" class="Page">      Language Overview</a></li>
                
                    
                    <li class="toc--"><a href="../templating/filters.html" class="Page">    Template Filters</a></li>
                
                    
                    <li class="toc--"><a href="../templating/tags.html" class="Page">       Template Tags</a></li>
                
                    <li class="toc--outer Page"><h3 class="Page">              Component Parts</h3></li>
                    <li class="toc--"><a href="../parts/props.html" class="Page">           Props</a></li>
                
                    
                    <li class="toc--"><a href="../parts/script.html" class="Page">          Script</a></li>
                
                    
                    <li class="toc--"><a href="../parts/state.html" class="Page">           State</a></li>
                
                    
                    <li class="toc--"><a href="../parts/staticdata.html" class="Page">      StaticData</a></li>
                
                    
                    <li class="toc--"><a href="../parts/style.html" class="Page">           Style</a></li>
                
                    
                    <li class="toc--"><a href="../parts/template.html" class="Page">        Template</a></li>
                
                    <li class="toc--outer Page"><h3 class="Page">           Core Definitions</h3></li>
                    <li class="toc--"><a href="../core/artifact.html" class="Page">         Artifact</a></li>
                
                    
                    <li class="toc--"><a href="../core/component.html" class="Page">        Component</a></li>
                
                    
                    <li class="toc--"><a href="../core/configuration.html" class="Page">    Configuration</a></li>
                
                    
                    <li class="toc--"><a href="../core/contentlist.html" class="Page">      ContentList</a></li>
                
                    
                    <li class="toc--"><a href="../core/include.html" class="Page">          Include</a></li>
                
                    
                    <li class="toc--"><a href="../core/library.html" class="Page">          Library</a></li>
                
                    <li class="toc--outer Page"><h3 class="Page">  Extension</h3></li>
                    <li class="toc--"><a href="../extension/engine.html" class="Page">      Upgrading Engines</a></li>
                
            </ul>
        </nav>
        <main class="page-container Page">
            
                
                    
                        <x-tableofcontents toc="[{&quot;match&quot;:&quot;&lt;h1 id=\&quot;customcomponentparts\&quot;&gt;Custom Component Parts&lt;/h1&gt;&quot;,&quot;level&quot;:1,&quot;attrs&quot;:&quot;id=\&quot;customcomponentparts\&quot;&quot;,&quot;title&quot;:&quot;Custom Component Parts&quot;,&quot;id&quot;:&quot;customcomponentparts&quot;},{&quot;match&quot;:&quot;&lt;h5 id=\&quot;example1customcomponentparttype\&quot;&gt;Example #1: Custom Component Part Type&lt;/h5&gt;&quot;,&quot;level&quot;:5,&quot;attrs&quot;:&quot;id=\&quot;example1customcomponentparttype\&quot;&quot;,&quot;title&quot;:&quot;Example #1: Custom Component Part Type&quot;,&quot;id&quot;:&quot;example1customcomponentparttype&quot;}]" modulo-mount-html=""><nav class="regular&quot;=&quot;">
        <div> </div>
        <div>
            <div>
                <label>[ <input name="show" type="checkbox"> Table of Contents ]</label>
                <label title="Stick to upper right">[ <span alt="upper right arrow">‚Üó</span>
                    <input name="sticky" type="checkbox"> ]</label>
            </div>
            
                <ul>
                    
                        
                            <li style="--level: 1">
                                    <a href="#customcomponentparts">Custom Component Parts</a>
                            </li>
                        
                    
                        
                    
                </ul>
            
        </div>
    </nav></x-tableofcontents>
                    
                    <div class="markdown-body"><h1 id="customcomponentparts">Custom Component Parts</h1>
<p>The principal method of JavaScript extension of Modulo is that of creating
custom <em>Component Parts</em>. See below for a basic structure:</p><x-quickdemo mode="javascript" value="modulo.part.mycustomcpart = class MyCustomCPart {
    initializedCallback(renderObj) {
        console.log('My Custom CPart Mounted!')
        console.log('Foo:', this.conf.foo)
        console.log('Am I ready?', this.conf.isReady)
    }
}
" modulo-mount-html=""><div class="editor-layout" style="--demo-width: 0px;">
        
            <x-syntaxhighlighter mode="javascript" value="modulo.part.mycustomcpart = class MyCustomCPart {
    initializedCallback(renderObj) {
        console.log('My Custom CPart Mounted!')
        console.log('Foo:', this.conf.foo)
        console.log('Am I ready?', this.conf.isReady)
    }
}
" style="font-size: 18px" modulo-mount-html="">modulo.<span class="hljs-property">part</span>.<span class="hljs-property">mycustomcpart</span> = <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyCustomCPart</span> {
    <span class="hljs-title function_">initializedCallback</span>(<span class="hljs-params">renderObj</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'My Custom CPart Mounted!'</span>)
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Foo:'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">conf</span>.<span class="hljs-property">foo</span>)
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Am I ready?'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">conf</span>.<span class="hljs-property">isReady</span>)
    }
}
</x-syntaxhighlighter>
        
        <div class="toolbar toolbar--small toolbar--autohide
             toolbar--snippet">
            
                <button><span alt="Clipboard icon">üìã</span> Copy</button>
            
        </div>
        
    </div>
    <div class="overlay"></div></x-quickdemo>
<p>This then  can be used like:</p><x-quickdemo mode="modulo" value="&lt;Component name=&quot;MyComponent&quot;&gt;
    &lt;MyCustomCPart
         foo=&quot;foobar&quot;
         is-ready:=true
    &gt;&lt;/MyCustomCpart&gt;
&lt;/Component&gt;
" modulo-mount-html=""><div class="editor-layout" style="--demo-width: 0px;">
        
            <x-syntaxhighlighter mode="modulo" value="&lt;Component name=&quot;MyComponent&quot;&gt;
    &lt;MyCustomCPart
         foo=&quot;foobar&quot;
         is-ready:=true
    &gt;&lt;/MyCustomCpart&gt;
&lt;/Component&gt;
" style="font-size: 18px" modulo-mount-html=""><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">Component</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"MyComponent"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">MyCustomCPart</span>
         <span class="hljs-attr">foo</span>=<span class="hljs-string">"foobar"</span>
         <span class="hljs-attr">is-ready:</span>=<span class="hljs-modulo-attr-value-lit">true</span>
    &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">MyCustomCpart</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">Component</span>&gt;</span>
</span></x-syntaxhighlighter>
        
        <div class="toolbar toolbar--small toolbar--autohide
             toolbar--snippet">
            
                <button><span alt="Clipboard icon">üìã</span> Copy</button>
            
        </div>
        
    </div>
    <div class="overlay"></div></x-quickdemo>
<h5 id="example1customcomponentparttype">Example #1: Custom Component Part Type</h5>
<p>This enables any custom JavaScript logic to hook
itself into any stage of the Component's lifecycle:</p><x-quickdemo mode="modulo" demo="modulo_embed" value="&lt;script Configuration&gt;
modulo.part.customcounter = class CustomCounter {
    initializedCallback(renderObj) { // Runs: Once, when mounted on page
        if (this.conf.showLogs) {
            console.log('My Custom CPart Mounted', this.conf);
        }
    }
    prepareCallback(renderObj) { // Runs: Before each render (e.g. get data)
        if (this.conf.showLogs) {
            console.log({ part: this, renderObj })
        }
    }
    renderCallback(renderObj) { // Runs: During each render (e.g. replace Template)
        // Note: If you want to activate the Component reconciler, do this:
        // renderObj.component.innerHTML = '...'
    }
    domCallback(renderObj) {
        // Runs: After virtual DOM is constructed
    }
    reconcileCallback(renderObj) {
        // Runs: During each render (e.g. replace Reconciler)
        this.element.innerHTML = `&lt;button&gt;COUNT: &lt;tt&gt;${ this.conf.count }&lt;/tt&gt;&lt;/button&gt;`;
    }
    updateCallback(renderObj) {
        // Runs: After every render (e.g. final DOM changes)
        this.element.querySelector('button').onclick = () =&gt; {
            this.conf.count++ // change data
            this.element.rerender() // Trigger a new render
        }
    }
}
&lt;/script&gt;
&lt;Component name=App&gt;
    &lt;CustomCounter
        count:=1
        show-logs:=false
    &gt;&lt;/CustomCounter&gt;
&lt;/Component&gt;
" modulo-mount-html=""><div class="editor-layout" style="--demo-width: 250px;">
        
            <x-mirroreditor name="value" mode="modulo" modulo-mount-html=""><div class="editor-wrapper" on.click="script.updateDimensions">
      <div class="editor-underlay-container" style="
            width:    224px
                    ;
            height:  48px
                    ;
          ">
          <div class="editor-underlay-offset-wrapper" style="
                
                
                
                    width: 224px; 
              "><x-syntaxhighlighter value="&lt;script Configuration&gt;
modulo.part.customcounter = class CustomCounter {
    initializedCallback(renderObj) { // Runs: Once, when mounted on page
        if (this.conf.showLogs) {
            console.log('My Custom CPart Mounted', this.conf);
        }
    }
    prepareCallback(renderObj) { // Runs: Before each render (e.g. get data)
        if (this.conf.showLogs) {
            console.log({ part: this, renderObj })
        }
    }
    renderCallback(renderObj) { // Runs: During each render (e.g. replace Template)
        // Note: If you want to activate the Component reconciler, do this:
        // renderObj.component.innerHTML = '...'
    }
    domCallback(renderObj) {
        // Runs: After virtual DOM is constructed
    }
    reconcileCallback(renderObj) {
        // Runs: During each render (e.g. replace Reconciler)
        this.element.innerHTML = `&lt;button&gt;COUNT: &lt;tt&gt;${ this.conf.count }&lt;/tt&gt;&lt;/button&gt;`;
    }
    updateCallback(renderObj) {
        // Runs: After every render (e.g. final DOM changes)
        this.element.querySelector('button').onclick = () =&gt; {
            this.conf.count++ // change data
            this.element.rerender() // Trigger a new render
        }
    }
}
&lt;/script&gt;
&lt;Component name=App&gt;
    &lt;CustomCounter
        count:=1
        show-logs:=false
    &gt;&lt;/CustomCounter&gt;
&lt;/Component&gt;
" mode="modulo" style="
                    font-family: monospace;
                    text-align: start;
                    resize: none;
                    box-sizing: border-box;
                    font-size: 18px;
                    
                        white-space: pre;
                    " modulo-mount-html=""><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-modulo-deftype-attr">Configuration</span>&gt;</span><span class="language-javascript">
modulo.<span class="hljs-property">part</span>.<span class="hljs-property">customcounter</span> = <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomCounter</span> {
    <span class="hljs-title function_">initializedCallback</span>(<span class="hljs-params">renderObj</span>) { <span class="hljs-comment">// Runs: Once, when mounted on page</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">conf</span>.<span class="hljs-property">showLogs</span>) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'My Custom CPart Mounted'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">conf</span>);
        }
    }
    <span class="hljs-title function_">prepareCallback</span>(<span class="hljs-params">renderObj</span>) { <span class="hljs-comment">// Runs: Before each render (e.g. get data)</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">conf</span>.<span class="hljs-property">showLogs</span>) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>({ <span class="hljs-attr">part</span>: <span class="hljs-variable language_">this</span>, renderObj })
        }
    }
    <span class="hljs-title function_">renderCallback</span>(<span class="hljs-params">renderObj</span>) { <span class="hljs-comment">// Runs: During each render (e.g. replace Template)</span>
        <span class="hljs-comment">// Note: If you want to activate the Component reconciler, do this:</span>
        <span class="hljs-comment">// renderObj.component.innerHTML = '...'</span>
    }
    <span class="hljs-title function_">domCallback</span>(<span class="hljs-params">renderObj</span>) {
        <span class="hljs-comment">// Runs: After virtual DOM is constructed</span>
    }
    <span class="hljs-title function_">reconcileCallback</span>(<span class="hljs-params">renderObj</span>) {
        <span class="hljs-comment">// Runs: During each render (e.g. replace Reconciler)</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">element</span>.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">`&lt;button&gt;COUNT: &lt;tt&gt;<span class="hljs-subst">${ <span class="hljs-variable language_">this</span>.conf.count }</span>&lt;/tt&gt;&lt;/button&gt;`</span>;
    }
    <span class="hljs-title function_">updateCallback</span>(<span class="hljs-params">renderObj</span>) {
        <span class="hljs-comment">// Runs: After every render (e.g. final DOM changes)</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">element</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'button'</span>).<span class="hljs-property">onclick</span> = <span class="hljs-function">() =&gt;</span> {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">conf</span>.<span class="hljs-property">count</span>++ <span class="hljs-comment">// change data</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">element</span>.<span class="hljs-title function_">rerender</span>() <span class="hljs-comment">// Trigger a new render</span>
        }
    }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">Component</span> <span class="hljs-attr">name</span>=<span class="hljs-modulo-attr-value">App</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">CustomCounter</span>
        <span class="hljs-attr">count:</span>=<span class="hljs-modulo-attr-value-lit">1</span>
        <span class="hljs-attr">show-logs:</span>=<span class="hljs-modulo-attr-value-lit">false</span>
    &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">CustomCounter</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">Component</span>&gt;</span>
</span></x-syntaxhighlighter>
          </div>
      </div>
      <textarea data-gramm="false" name="value" spellcheck="false" style="
            font-size: 18px;
            
                white-space: pre;
            " script.ref="" on.scroll="script.updateDimensions"></textarea>
  </div></x-mirroreditor>
        
        <div class="toolbar toolbar--small toolbar--autohide
             ">
            
                <button><span alt="Clipboard icon">üìã</span> Copy</button>
                <button><span alt="Refresh arrow in circle">‚ü≥</span> Run</button>
                <button><span alt="Download arrow downward">‚§ì</span> Save</button>
            
        </div>
        
    <iframe></iframe></div>
    <div class="overlay"></div></x-quickdemo>
</div>
                
            
        </main>
    </div>
            
        </body>
    </html>