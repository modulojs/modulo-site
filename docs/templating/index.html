<!DOCTYPE html><html>
        <head>
            <meta charset="utf8"><script src="../static/Modulo.html"></script><meta name="charset" charset="utf8" id="include_xxm0qoac"><meta name="content-type" http-equiv="Content-Type" content="text/html; charset=utf-8" id="include_xxnd8o0e"><meta name="viewport" content="width=device-width, initial-scale=1" id="include_x13l7u56"><meta name="robots" content="index, follow" id="include_xxriq75n"><meta name="revisit-after" content="30 days" id="include_x1m4jm9p">
            
                <script src="../static/Modulo.html"></script>
            
            <link rel="stylesheet" href="../buildpartial-xxpik5e0.css">
            <script defer="" src="../buildpartial-x1rlipu2.js"></script>
        </head>
        <body>
            
            
        <meta charset="utf8">
        <title>Templating Language - Modulo Documentation</title>
    
    <div class="layout Page">
        <nav class="page-nav Page">
            <a style="font-size:60px;text-align:center;display:block;font-weight:200" href="../" class="Page">ᵐ°dᵘ⁄o</a>
            <ul style="position: sticky; top: 1px" class="Page">
                <li class="toc--outer Page">
                    <p><a style="font-size: 70%" title="Download Modulo Docs as a offline-friendly zip" href="https://codeberg.org/modulo/docs/archive/main.zip" class="Page">
                            ⤓ docs-main.zip</a>
                        <tt>v0.1.0</tt>
                    </p>
                </li>
                
                    <li class="toc--outer Page"><h3 class="Page">       Modulo</h3></li>
                    <li class="toc--"><a href="../start/index.html" class="Page">           Introduction</a></li>
                
                    
                    <li class="toc--"><a href="../start/getting-started.html" class="Page"> Getting Started</a></li>
                
                    <li class="toc--outer Page"><h3 class="Page">           Definitions</h3></li>
                    <li class="toc--"><a href="../defs/overview.html" class="Page">         Overview</a></li>
                
                    
                    <li class="toc--"><a href="../defs/importing.html" class="Page">        Importing</a></li>
                
                    
                    <li class="toc--"><a href="../defs/definitions.html" class="Page">      Definition Types</a></li>
                
                    
                    <li class="toc--"><a href="../defs/processors.html" class="Page">       Processors</a></li>
                
                    
                    <li class="toc--"><a href="../defs/custom.html" class="Page">           Custom Types</a></li>
                
                    <li class="toc--outer Page"><h3 class="Page">  Templating</h3></li>
                    <li class="toc--active Page"><a href="../templating/index.html" class="Page">      Language Overview</a></li>
                
                    
                    <li class="toc--"><a href="../templating/filters.html" class="Page">    Template Filters</a></li>
                
                    
                    <li class="toc--"><a href="../templating/tags.html" class="Page">       Template Tags</a></li>
                
                    <li class="toc--outer Page"><h3 class="Page">              Component Parts</h3></li>
                    <li class="toc--"><a href="../parts/props.html" class="Page">           Props</a></li>
                
                    
                    <li class="toc--"><a href="../parts/script.html" class="Page">          Script</a></li>
                
                    
                    <li class="toc--"><a href="../parts/state.html" class="Page">           State</a></li>
                
                    
                    <li class="toc--"><a href="../parts/staticdata.html" class="Page">      StaticData</a></li>
                
                    
                    <li class="toc--"><a href="../parts/style.html" class="Page">           Style</a></li>
                
                    
                    <li class="toc--"><a href="../parts/template.html" class="Page">        Template</a></li>
                
                    <li class="toc--outer Page"><h3 class="Page">           Core Definitions</h3></li>
                    <li class="toc--"><a href="../core/artifact.html" class="Page">         Artifact</a></li>
                
                    
                    <li class="toc--"><a href="../core/component.html" class="Page">        Component</a></li>
                
                    
                    <li class="toc--"><a href="../core/configuration.html" class="Page">    Configuration</a></li>
                
                    
                    <li class="toc--"><a href="../core/contentlist.html" class="Page">      ContentList</a></li>
                
                    
                    <li class="toc--"><a href="../core/include.html" class="Page">          Include</a></li>
                
                    
                    <li class="toc--"><a href="../core/library.html" class="Page">          Library</a></li>
                
                    <li class="toc--outer Page"><h3 class="Page">  Extension</h3></li>
                    <li class="toc--"><a href="../extension/engine.html" class="Page">      Upgrading Engines</a></li>
                
            </ul>
        </nav>
        <main class="page-container Page">
            
                
                    
                        <x-tableofcontents toc="[{&quot;match&quot;:&quot;&lt;h1 id=\&quot;templates\&quot;&gt;Templates&lt;/h1&gt;&quot;,&quot;level&quot;:1,&quot;attrs&quot;:&quot;id=\&quot;templates\&quot;&quot;,&quot;title&quot;:&quot;Templates&quot;,&quot;id&quot;:&quot;templates&quot;},{&quot;match&quot;:&quot;&lt;h2 id=\&quot;variables\&quot;&gt;Variables&lt;/h2&gt;&quot;,&quot;level&quot;:2,&quot;attrs&quot;:&quot;id=\&quot;variables\&quot;&quot;,&quot;title&quot;:&quot;Variables&quot;,&quot;id&quot;:&quot;variables&quot;},{&quot;match&quot;:&quot;&lt;h3 id=\&quot;drillingdownthedot\&quot;&gt;Drilling down: The dot (.)&lt;/h3&gt;&quot;,&quot;level&quot;:3,&quot;attrs&quot;:&quot;id=\&quot;drillingdownthedot\&quot;&quot;,&quot;title&quot;:&quot;Drilling down: The dot (.)&quot;,&quot;id&quot;:&quot;drillingdownthedot&quot;},{&quot;match&quot;:&quot;&lt;h3 id=\&quot;whatvariablesareavailable\&quot;&gt;What variables are available&lt;/h3&gt;&quot;,&quot;level&quot;:3,&quot;attrs&quot;:&quot;id=\&quot;whatvariablesareavailable\&quot;&quot;,&quot;title&quot;:&quot;What variables are available&quot;,&quot;id&quot;:&quot;whatvariablesareavailable&quot;},{&quot;match&quot;:&quot;&lt;h3 id=\&quot;variablesfromscript\&quot;&gt;Variables from Script&lt;/h3&gt;&quot;,&quot;level&quot;:3,&quot;attrs&quot;:&quot;id=\&quot;variablesfromscript\&quot;&quot;,&quot;title&quot;:&quot;Variables from Script&quot;,&quot;id&quot;:&quot;variablesfromscript&quot;},{&quot;match&quot;:&quot;&lt;h4 id=\&quot;variablesfromcparts\&quot;&gt;Variables from CParts&lt;/h4&gt;&quot;,&quot;level&quot;:4,&quot;attrs&quot;:&quot;id=\&quot;variablesfromcparts\&quot;&quot;,&quot;title&quot;:&quot;Variables from CParts&quot;,&quot;id&quot;:&quot;variablesfromcparts&quot;},{&quot;match&quot;:&quot;&lt;h4 id=\&quot;variablesfromtemplatetags\&quot;&gt;Variables from templatetags&lt;/h4&gt;&quot;,&quot;level&quot;:4,&quot;attrs&quot;:&quot;id=\&quot;variablesfromtemplatetags\&quot;&quot;,&quot;title&quot;:&quot;Variables from templatetags&quot;,&quot;id&quot;:&quot;variablesfromtemplatetags&quot;},{&quot;match&quot;:&quot;&lt;h2 id=\&quot;variablesyntax\&quot;&gt;Variable Syntax&lt;/h2&gt;&quot;,&quot;level&quot;:2,&quot;attrs&quot;:&quot;id=\&quot;variablesyntax\&quot;&quot;,&quot;title&quot;:&quot;Variable Syntax&quot;,&quot;id&quot;:&quot;variablesyntax&quot;},{&quot;match&quot;:&quot;&lt;h3 id=\&quot;thequandaryofkebabvscamel\&quot;&gt;The quandary of kebab vs camel&lt;/h3&gt;&quot;,&quot;level&quot;:3,&quot;attrs&quot;:&quot;id=\&quot;thequandaryofkebabvscamel\&quot;&quot;,&quot;title&quot;:&quot;The quandary of kebab vs camel&quot;,&quot;id&quot;:&quot;thequandaryofkebabvscamel&quot;},{&quot;match&quot;:&quot;&lt;h3 id=\&quot;examples\&quot;&gt;Examples&lt;/h3&gt;&quot;,&quot;level&quot;:3,&quot;attrs&quot;:&quot;id=\&quot;examples\&quot;&quot;,&quot;title&quot;:&quot;Examples&quot;,&quot;id&quot;:&quot;examples&quot;},{&quot;match&quot;:&quot;&lt;h4 id=\&quot;example1automaticcamelcase\&quot;&gt;Example #1: Automatic camel case&lt;/h4&gt;&quot;,&quot;level&quot;:4,&quot;attrs&quot;:&quot;id=\&quot;example1automaticcamelcase\&quot;&quot;,&quot;title&quot;:&quot;Example #1: Automatic camel case&quot;,&quot;id&quot;:&quot;example1automaticcamelcase&quot;},{&quot;match&quot;:&quot;&lt;h4 id=\&quot;example2avoidingautomaticcamelcase\&quot;&gt;Example #2: Avoiding automatic camel case&lt;/h4&gt;&quot;,&quot;level&quot;:4,&quot;attrs&quot;:&quot;id=\&quot;example2avoidingautomaticcamelcase\&quot;&quot;,&quot;title&quot;:&quot;Example #2: Avoiding automatic camel case&quot;,&quot;id&quot;:&quot;example2avoidingautomaticcamelcase&quot;},{&quot;match&quot;:&quot;&lt;h3 id=\&quot;syntaxbestpractices\&quot;&gt;Syntax best practices&lt;/h3&gt;&quot;,&quot;level&quot;:3,&quot;attrs&quot;:&quot;id=\&quot;syntaxbestpractices\&quot;&quot;,&quot;title&quot;:&quot;Syntax best practices&quot;,&quot;id&quot;:&quot;syntaxbestpractices&quot;},{&quot;match&quot;:&quot;&lt;h1 id=\&quot;filters\&quot;&gt;Filters&lt;/h1&gt;&quot;,&quot;level&quot;:1,&quot;attrs&quot;:&quot;id=\&quot;filters\&quot;&quot;,&quot;title&quot;:&quot;Filters&quot;,&quot;id&quot;:&quot;filters&quot;},{&quot;match&quot;:&quot;&lt;h2 id=\&quot;commontemplatefilters\&quot;&gt;Common template filters&lt;/h2&gt;&quot;,&quot;level&quot;:2,&quot;attrs&quot;:&quot;id=\&quot;commontemplatefilters\&quot;&quot;,&quot;title&quot;:&quot;Common template filters&quot;,&quot;id&quot;:&quot;commontemplatefilters&quot;},{&quot;match&quot;:&quot;&lt;h2 id=\&quot;customfilters\&quot;&gt;Custom filters&lt;/h2&gt;&quot;,&quot;level&quot;:2,&quot;attrs&quot;:&quot;id=\&quot;customfilters\&quot;&quot;,&quot;title&quot;:&quot;Custom filters&quot;,&quot;id&quot;:&quot;customfilters&quot;},{&quot;match&quot;:&quot;&lt;h1 id=\&quot;tags\&quot;&gt;Tags&lt;/h1&gt;&quot;,&quot;level&quot;:1,&quot;attrs&quot;:&quot;id=\&quot;tags\&quot;&quot;,&quot;title&quot;:&quot;Tags&quot;,&quot;id&quot;:&quot;tags&quot;},{&quot;match&quot;:&quot;&lt;h2 id=\&quot;commontemplatetags\&quot;&gt;Common template tags&lt;/h2&gt;&quot;,&quot;level&quot;:2,&quot;attrs&quot;:&quot;id=\&quot;commontemplatetags\&quot;&quot;,&quot;title&quot;:&quot;Common template tags&quot;,&quot;id&quot;:&quot;commontemplatetags&quot;},{&quot;match&quot;:&quot;&lt;h3 id=\&quot;differencesbetweentagsandfilters\&quot;&gt;Differences between tags and filters&lt;/h3&gt;&quot;,&quot;level&quot;:3,&quot;attrs&quot;:&quot;id=\&quot;differencesbetweentagsandfilters\&quot;&quot;,&quot;title&quot;:&quot;Differences between tags and filters&quot;,&quot;id&quot;:&quot;differencesbetweentagsandfilters&quot;},{&quot;match&quot;:&quot;&lt;h4 id=\&quot;tagscompiletime\&quot;&gt;Tags: Compile-time&lt;/h4&gt;&quot;,&quot;level&quot;:4,&quot;attrs&quot;:&quot;id=\&quot;tagscompiletime\&quot;&quot;,&quot;title&quot;:&quot;Tags: Compile-time&quot;,&quot;id&quot;:&quot;tagscompiletime&quot;},{&quot;match&quot;:&quot;&lt;h4 id=\&quot;filterrendertime\&quot;&gt;Filter: Render-time&lt;/h4&gt;&quot;,&quot;level&quot;:4,&quot;attrs&quot;:&quot;id=\&quot;filterrendertime\&quot;&quot;,&quot;title&quot;:&quot;Filter: Render-time&quot;,&quot;id&quot;:&quot;filterrendertime&quot;},{&quot;match&quot;:&quot;&lt;h2 id=\&quot;customtags\&quot;&gt;Custom tags&lt;/h2&gt;&quot;,&quot;level&quot;:2,&quot;attrs&quot;:&quot;id=\&quot;customtags\&quot;&quot;,&quot;title&quot;:&quot;Custom tags&quot;,&quot;id&quot;:&quot;customtags&quot;},{&quot;match&quot;:&quot;&lt;h1 id=\&quot;commentinganddebugging\&quot;&gt;Commenting and debugging&lt;/h1&gt;&quot;,&quot;level&quot;:1,&quot;attrs&quot;:&quot;id=\&quot;commentinganddebugging\&quot;&quot;,&quot;title&quot;:&quot;Commenting and debugging&quot;,&quot;id&quot;:&quot;commentinganddebugging&quot;},{&quot;match&quot;:&quot;&lt;h2 id=\&quot;shortcommentsyntax\&quot;&gt;Short comment syntax&lt;/h2&gt;&quot;,&quot;level&quot;:2,&quot;attrs&quot;:&quot;id=\&quot;shortcommentsyntax\&quot;&quot;,&quot;title&quot;:&quot;Short comment syntax&quot;,&quot;id&quot;:&quot;shortcommentsyntax&quot;},{&quot;match&quot;:&quot;&lt;h2 id=\&quot;commenttag\&quot;&gt;Comment tag&lt;/h2&gt;&quot;,&quot;level&quot;:2,&quot;attrs&quot;:&quot;id=\&quot;commenttag\&quot;&quot;,&quot;title&quot;:&quot;Comment tag&quot;,&quot;id&quot;:&quot;commenttag&quot;},{&quot;match&quot;:&quot;&lt;h2 id=\&quot;debuggertag\&quot;&gt;Debugger tag&lt;/h2&gt;&quot;,&quot;level&quot;:2,&quot;attrs&quot;:&quot;id=\&quot;debuggertag\&quot;&quot;,&quot;title&quot;:&quot;Debugger tag&quot;,&quot;id&quot;:&quot;debuggertag&quot;},{&quot;match&quot;:&quot;&lt;h1 id=\&quot;escaping\&quot;&gt;Escaping&lt;/h1&gt;&quot;,&quot;level&quot;:1,&quot;attrs&quot;:&quot;id=\&quot;escaping\&quot;&quot;,&quot;title&quot;:&quot;Escaping&quot;,&quot;id&quot;:&quot;escaping&quot;},{&quot;match&quot;:&quot;&lt;h2 id=\&quot;thepurposeofescaping\&quot;&gt;The purpose of escaping&lt;/h2&gt;&quot;,&quot;level&quot;:2,&quot;attrs&quot;:&quot;id=\&quot;thepurposeofescaping\&quot;&quot;,&quot;title&quot;:&quot;The purpose of escaping&quot;,&quot;id&quot;:&quot;thepurposeofescaping&quot;},{&quot;match&quot;:&quot;&lt;h2 id=\&quot;safetoturnoffescaping\&quot;&gt;Safe to turn off escaping&lt;/h2&gt;&quot;,&quot;level&quot;:2,&quot;attrs&quot;:&quot;id=\&quot;safetoturnoffescaping\&quot;&quot;,&quot;title&quot;:&quot;Safe to turn off escaping&quot;,&quot;id&quot;:&quot;safetoturnoffescaping&quot;},{&quot;match&quot;:&quot;&lt;h3 id=\&quot;examples\&quot;&gt;Examples&lt;/h3&gt;&quot;,&quot;level&quot;:3,&quot;attrs&quot;:&quot;id=\&quot;examples\&quot;&quot;,&quot;title&quot;:&quot;Examples&quot;,&quot;id&quot;:&quot;examples&quot;},{&quot;match&quot;:&quot;&lt;h4 id=\&quot;example1escapingfortagsandattributes\&quot;&gt;Example #1: Escaping for tags and attributes&lt;/h4&gt;&quot;,&quot;level&quot;:4,&quot;attrs&quot;:&quot;id=\&quot;example1escapingfortagsandattributes\&quot;&quot;,&quot;title&quot;:&quot;Example #1: Escaping for tags and attributes&quot;,&quot;id&quot;:&quot;example1escapingfortagsandattributes&quot;},{&quot;match&quot;:&quot;&lt;h4 id=\&quot;example2escapinguserinputteddata\&quot;&gt;Example #2: Escaping user inputted data&lt;/h4&gt;&quot;,&quot;level&quot;:4,&quot;attrs&quot;:&quot;id=\&quot;example2escapinguserinputteddata\&quot;&quot;,&quot;title&quot;:&quot;Example #2: Escaping user inputted data&quot;,&quot;id&quot;:&quot;example2escapinguserinputteddata&quot;},{&quot;match&quot;:&quot;&lt;h2 id=\&quot;directusageoftemplateinterface\&quot;&gt;Direct usage of Template interface&lt;/h2&gt;&quot;,&quot;level&quot;:2,&quot;attrs&quot;:&quot;id=\&quot;directusageoftemplateinterface\&quot;&quot;,&quot;title&quot;:&quot;Direct usage of Template interface&quot;,&quot;id&quot;:&quot;directusageoftemplateinterface&quot;}]" modulo-mount-html=""><nav class="regular&quot;=&quot;">
        <div> </div>
        <div>
            <div>
                <label>[ <input name="show" type="checkbox"> Table of Contents ]</label>
                <label title="Stick to upper right">[ <span alt="upper right arrow">↗</span>
                    <input name="sticky" type="checkbox"> ]</label>
            </div>
            
                <ul>
                    
                        
                            <li style="--level: 1">
                                    <a href="#templates">Templates</a>
                            </li>
                        
                    
                        
                            <li style="--level: 2">
                                    <a href="#variables">Variables</a>
                            </li>
                        
                    
                        
                            <li style="--level: 3">
                                    <a href="#drillingdownthedot">Drilling down: The dot (.)</a>
                            </li>
                        
                    
                        
                            <li style="--level: 3">
                                    <a href="#whatvariablesareavailable">What variables are available</a>
                            </li>
                        
                    
                        
                            <li style="--level: 3">
                                    <a href="#variablesfromscript">Variables from Script</a>
                            </li>
                        
                    
                        
                    
                        
                    
                        
                            <li style="--level: 2">
                                    <a href="#variablesyntax">Variable Syntax</a>
                            </li>
                        
                    
                        
                            <li style="--level: 3">
                                    <a href="#thequandaryofkebabvscamel">The quandary of kebab vs camel</a>
                            </li>
                        
                    
                        
                            <li style="--level: 3">
                                    <a href="#examples">Examples</a>
                            </li>
                        
                    
                        
                    
                        
                    
                        
                            <li style="--level: 3">
                                    <a href="#syntaxbestpractices">Syntax best practices</a>
                            </li>
                        
                    
                        
                            <li style="--level: 1">
                                    <a href="#filters">Filters</a>
                            </li>
                        
                    
                        
                            <li style="--level: 2">
                                    <a href="#commontemplatefilters">Common template filters</a>
                            </li>
                        
                    
                        
                            <li style="--level: 2">
                                    <a href="#customfilters">Custom filters</a>
                            </li>
                        
                    
                        
                            <li style="--level: 1">
                                    <a href="#tags">Tags</a>
                            </li>
                        
                    
                        
                            <li style="--level: 2">
                                    <a href="#commontemplatetags">Common template tags</a>
                            </li>
                        
                    
                        
                            <li style="--level: 3">
                                    <a href="#differencesbetweentagsandfilters">Differences between tags and filters</a>
                            </li>
                        
                    
                        
                    
                        
                    
                        
                            <li style="--level: 2">
                                    <a href="#customtags">Custom tags</a>
                            </li>
                        
                    
                        
                            <li style="--level: 1">
                                    <a href="#commentinganddebugging">Commenting and debugging</a>
                            </li>
                        
                    
                        
                            <li style="--level: 2">
                                    <a href="#shortcommentsyntax">Short comment syntax</a>
                            </li>
                        
                    
                        
                            <li style="--level: 2">
                                    <a href="#commenttag">Comment tag</a>
                            </li>
                        
                    
                        
                            <li style="--level: 2">
                                    <a href="#debuggertag">Debugger tag</a>
                            </li>
                        
                    
                        
                            <li style="--level: 1">
                                    <a href="#escaping">Escaping</a>
                            </li>
                        
                    
                        
                            <li style="--level: 2">
                                    <a href="#thepurposeofescaping">The purpose of escaping</a>
                            </li>
                        
                    
                        
                            <li style="--level: 2">
                                    <a href="#safetoturnoffescaping">Safe to turn off escaping</a>
                            </li>
                        
                    
                        
                            <li style="--level: 3">
                                    <a href="#examples">Examples</a>
                            </li>
                        
                    
                        
                    
                        
                    
                        
                            <li style="--level: 2">
                                    <a href="#directusageoftemplateinterface">Direct usage of Template interface</a>
                            </li>
                        
                    
                </ul>
            
        </div>
    </nav></x-tableofcontents>
                    
                    <div class="markdown-body"><p>This document explains the language syntax and functionality of the included
Modulo template system.</p>
<blockquote>
  <p><strong>Modulo's Declarative Templating Approach</strong> - Modulo's templating language
  is designed to be fairly versatile in
  capabilities, while still feel comfortable to those only used to working with
  HTML. If you have any exposure to other similar template languages, such as
  Django (Python), Shopify's Liquid (Ruby), Hugo (Go), Jinja2 (Python), Nunjucks
  (JavaScript), or Twig (PHP), you should feel right at home with Modulo's
  templates. In fact, Modulo's templating was modeled so closely on Django's,
  that this documentation page was <a href="https://docs.djangoproject.com/en/4.2/ref/templates/language/">modelled on Django's own
documentation</a>.
  This also means that most text editors already can highlight Modulo template
  code: Just configure your editor to syntax highlight <em>Django HTML templates</em>,
  and you'll be all set for editing Modulo template or library files. Thanks,
  Django!</p>
</blockquote>
<h1 id="templates">Templates</h1>
<p>A "template" is the text within a Template CPart. Most Components defined
within Modulo will also define a Template CPart in order to render their
contents.</p>
<p>A template contains variables, which get replaced with values when the template
is evaluated, and tags, which control the logic of the template.</p>
<p>Below is an example template that shows off several features of templates. Each
element will be explained later in this document.</p><x-quickdemo mode="modulo" demo="modulo" value="&lt;Template&gt;
&lt;h1&gt;{{ script.title }}&lt;/h1&gt;
&lt;p&gt;There are &lt;em&gt;{{ state.count }}
  {{ state.count|pluralize:&quot;articles,article&quot; }}.&lt;/em&gt;&lt;/p&gt;

{# Show the articles #}
{% for article in state.articles %}
    &lt;h4 style=&quot;color: tomato&quot;&gt;{{ article.headline|upper }}&lt;/h4&gt;
    {% if article.tease %}
      &lt;p&gt;{{ article.tease|truncate:30 }}&lt;/p&gt;
    {% endif %}
{% endfor %}
&lt;/Template&gt;

&lt;!-- The data below was used to render the template above --&gt;
&lt;State
    count:=42
    articles:=[]
    articles.0:={}
    articles.1:={}
    articles.2:={}
    articles.0.headline=&quot;Modulo released&quot;
    articles.1.headline=&quot;The experts ask&quot;
    articles.2.headline=&quot;Controversy ahead&quot;
    articles.0.tease=&quot;The most exciting news of the century.&quot;
    articles.1.tease=&quot;Can HTML be fun again?&quot;
    articles.2.tease=&quot;Why constructing JS is risky business.&quot;
&gt;&lt;/State&gt;

&lt;Script&gt;
    function prepareCallback() {
        return {
            title: &quot;Modulo News&quot;,
        }
    }
&lt;/Script&gt;
" modulo-mount-html=""><div class="editor-layout" style="--demo-width: 250px;">
        
            <x-mirroreditor name="value" mode="modulo" modulo-mount-html=""><div class="editor-wrapper" on.click="script.updateDimensions">
      <div class="editor-underlay-container" style="
            width:    224px
                    ;
            height:  48px
                    ;
          ">
          <div class="editor-underlay-offset-wrapper" style="
                
                
                
                    width: 224px; 
              "><x-syntaxhighlighter value="&lt;Template&gt;
&lt;h1&gt;{{ script.title }}&lt;/h1&gt;
&lt;p&gt;There are &lt;em&gt;{{ state.count }}
  {{ state.count|pluralize:&quot;articles,article&quot; }}.&lt;/em&gt;&lt;/p&gt;

{# Show the articles #}
{% for article in state.articles %}
    &lt;h4 style=&quot;color: tomato&quot;&gt;{{ article.headline|upper }}&lt;/h4&gt;
    {% if article.tease %}
      &lt;p&gt;{{ article.tease|truncate:30 }}&lt;/p&gt;
    {% endif %}
{% endfor %}
&lt;/Template&gt;

&lt;!-- The data below was used to render the template above --&gt;
&lt;State
    count:=42
    articles:=[]
    articles.0:={}
    articles.1:={}
    articles.2:={}
    articles.0.headline=&quot;Modulo released&quot;
    articles.1.headline=&quot;The experts ask&quot;
    articles.2.headline=&quot;Controversy ahead&quot;
    articles.0.tease=&quot;The most exciting news of the century.&quot;
    articles.1.tease=&quot;Can HTML be fun again?&quot;
    articles.2.tease=&quot;Why constructing JS is risky business.&quot;
&gt;&lt;/State&gt;

&lt;Script&gt;
    function prepareCallback() {
        return {
            title: &quot;Modulo News&quot;,
        }
    }
&lt;/Script&gt;
" mode="modulo" style="
                    font-family: monospace;
                    text-align: start;
                    resize: none;
                    box-sizing: border-box;
                    font-size: 18px;
                    
                        white-space: pre;
                    " modulo-mount-html=""><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">Template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span></span><span class="hljs-template-variable">{{ script.title }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>There are <span class="hljs-tag">&lt;<span class="hljs-name">em</span>&gt;</span></span><span class="hljs-template-variable">{{ state.count }}</span><span class="language-xml">
  </span><span class="hljs-template-variable">{{ state.count|<span class="hljs-name">pluralize</span>:<span class="hljs-string">"articles,article"</span> }}</span><span class="language-xml">.<span class="hljs-tag">&lt;/<span class="hljs-name">em</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>

</span><span class="hljs-comment">{# Show the articles #}</span><span class="language-xml">
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-name">for</span></span> article <span class="hljs-keyword">in</span> state.articles %}</span><span class="language-xml">
    <span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"color: tomato"</span>&gt;</span></span><span class="hljs-template-variable">{{ article.headline|<span class="hljs-name">upper</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
    </span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-name">if</span></span> article.tease %}</span><span class="language-xml">
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-template-variable">{{ article.tease|truncate:30 }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    </span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-name">endif</span></span> %}</span><span class="language-xml">
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-name">endfor</span></span> %}</span><span class="language-xml">
<span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">Template</span>&gt;</span>

<span class="hljs-comment">&lt;!-- The data below was used to render the template above --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">State</span>
    <span class="hljs-attr">count:</span>=<span class="hljs-modulo-attr-value-lit">42</span>
    <span class="hljs-attr">articles:</span>=<span class="hljs-modulo-attr-value-lit">[]</span>
    <span class="hljs-attr">articles.0:</span>=<span class="hljs-modulo-attr-value-lit">{}</span>
    <span class="hljs-attr">articles.1:</span>=<span class="hljs-modulo-attr-value-lit">{}</span>
    <span class="hljs-attr">articles.2:</span>=<span class="hljs-modulo-attr-value-lit">{}</span>
    <span class="hljs-attr">articles.0.headline</span>=<span class="hljs-string">"Modulo released"</span>
    <span class="hljs-attr">articles.1.headline</span>=<span class="hljs-string">"The experts ask"</span>
    <span class="hljs-attr">articles.2.headline</span>=<span class="hljs-string">"Controversy ahead"</span>
    <span class="hljs-attr">articles.0.tease</span>=<span class="hljs-string">"The most exciting news of the century."</span>
    <span class="hljs-attr">articles.1.tease</span>=<span class="hljs-string">"Can HTML be fun again?"</span>
    <span class="hljs-attr">articles.2.tease</span>=<span class="hljs-string">"Why constructing JS is risky business."</span>
&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">State</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">Script</span>&gt;</span><span class="language-javascript">
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">prepareCallback</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">title</span>: <span class="hljs-string">"Modulo News"</span>,
        }
    }
</span><span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">Script</span>&gt;</span>
</span></x-syntaxhighlighter>
          </div>
      </div>
      <textarea data-gramm="false" name="value" spellcheck="false" style="
            font-size: 18px;
            
                white-space: pre;
            " script.ref="" on.scroll="script.updateDimensions"></textarea>
  </div></x-mirroreditor>
        
        <div class="toolbar toolbar--small toolbar--autohide
             ">
            
                <button><span alt="Clipboard icon">📋</span> Copy</button>
                <button><span alt="Refresh arrow in circle">⟳</span> Run</button>
                <button><span alt="Download arrow downward">⤓</span> Save</button>
            
        </div>
        
    <iframe></iframe></div>
    <div class="overlay"></div></x-quickdemo>
<blockquote>
  <p><strong>Whay makes Modulo a Declarative String Templating different than JSX and/or
other frameworks?</strong> - If you are used to frontend frameworks which permit
  mixing functions and imperative code directly with DOM elements, such as with
  React.js or Svelte, or using XML-based DOM construction syntax, like JSX,
  then there is an important difference to note: Modulo templates are
  string-based, and intended to resembled declarative mark-up. When compared to
  a general language like JavaScript (which Modulo templates compile into),
  it's intentionally limited: While the Modulo template language provides
  "template tags" that resemble programming constructs (<code>if</code>, <code>for</code>, etc), it
  does not permit any embedded JavaScript, but instead only a few constructs
  and operations.  This declarative, string-based templating paradigm was
  chosen with the same reason behind the MVC paradigm: "To separate internal
  representations of information from the ways information is presented to and
  accepted from the user".  Supporting pure-text output enforces this clear
  wall of separation between presentation and business logic. Furthermore, this
  will be more familiar to backend developers more familiar with string-based
  templating in general (such as Ruby, Python, or PHP developers).</p>
</blockquote>
<h2 id="variables">Variables</h2>
<p>Variables look like this: <code>{{ my-variable-name }}</code>. They may also look like <code>{{
myVariable }}</code>. Variable names should start with an alphabetical character, and
otherwise be alphanumeric (e.g., <code>A-Z</code> and <code>0-9</code>).  Importantly, variable names
cannot have spaces (e.g. <code></code>), special characters (e.g. <code>#</code>), or punctuation
characters outside of underscore (<code>_</code>), dash (<code>-</code>, described below in <a href="#VariableSyntax">Variable
syntax</a>), or the dot (<code>.</code>, described next).</p>
<h3 id="drillingdownthedot">Drilling down: The dot (.)</h3>
<p>When using template variables, you often want to access data that has been
structured using the various JSON data structures. That is, you might be
accessing arrays of numbers for a chart you are rendering on a dashboard, or an
object containing user information from a database for a profile page.</p>
<p>"Digging" into different data structures to unearth the data you want is a
process sometimes nicknamed "drilling down". In Modulo, the dot (<code>.</code>) character
is used to "drill down", or access sub-properties of a variable. This syntax is
much like JavaScript.</p>
<p>In the above example, <code>{{ state.count }}</code> will be replaced with the value of
the "count" property of the state data. Similarly, <code>{{ script.data.title }}</code>
reaches even further, by first accessing the <code>script</code> variable, then the <code>data</code>
subproperty, then the <code>title</code> subproperty.</p>
<p>If you use a variable that doesn't exist, the template system will insert the
value of <code>undefined</code>, much like in JavaScript.</p>
<p>Note that "bar" in a template expression like <code>{{ foo.bar }}</code> will be
interpreted as a literal string property of "foo', and not a variable "bar",
even if one exists in the template context. If you wish to to do the opposite
behavior, that is, actually resolve "bar" into it's own value, and then use
that value to access a property of bar, consider using the <code>get</code> filter:
<code>{{ foo|get:bar }}</code>. This is equivalent to the "square brackets" notation of
JavaScript (e.g. <code>foo[bar]</code>), and thus is also useful for accessing numeric
indices. For an example, if we have an array in our state like
<code>foo:='["a", "b", "c"]'</code>, then we can access <code>"b"</code> as follows:
<code>{{ state.foo|get:1 }}</code>.</p>
<p>Variable attributes that begin with an underscore should generally not be
accessed, as that can be used to indicate private.</p>
<h3 id="whatvariablesareavailable">What variables are available</h3>
<p>Variables come from the component's <code>renderObj</code> that is produced in the
<code>prepare</code> lifecycle phase. In practicality, this is another way to say that
most variables typically "come from" the CParts of a component.  That is,
<code>state</code> will provide the state values, <code>props</code> will provide the values passed
down to this component, and finally <code>script</code> will provide variables from script
tags. In other words, each CPart "decides" which variables it supplies to the
Template based on it's "prepare" lifecycle behavior. See the "Variables from
CParts" section below for a more thorough look at this.</p>
<h3 id="variablesfromscript">Variables from Script</h3>
<p>If you want to create computed variables (like in Vue.js), you can create a
custom <code>prepareCallback</code> lifecycle callback in your Script CPart tag as follows.
Examine the following example:</p><x-quickdemo mode="modulo" demo="modulo" value="&lt;Template&gt;
    &lt;input state.bind name=&quot;perc&quot; /&gt;% of
    &lt;input state.bind name=&quot;total&quot; /&gt;
    is: {{ script.calcResult }}
&lt;/Template&gt;

&lt;State
    perc:=50
    total:=30
&gt;&lt;/State&gt;

&lt;Script&gt;
    function prepareCallback() {
        const calcResult = (state.perc / 100) * state.total;
        return { calcResult };
    }
&lt;/Script&gt;

&lt;Style&gt;
    input { display: inline; width: 25px }
&lt;/Style&gt;
" modulo-mount-html=""><div class="editor-layout" style="--demo-width: 250px;">
        
            <x-mirroreditor name="value" mode="modulo" modulo-mount-html=""><div class="editor-wrapper" on.click="script.updateDimensions">
      <div class="editor-underlay-container" style="
            width:    224px
                    ;
            height:  48px
                    ;
          ">
          <div class="editor-underlay-offset-wrapper" style="
                
                
                
                    width: 224px; 
              "><x-syntaxhighlighter value="&lt;Template&gt;
    &lt;input state.bind name=&quot;perc&quot; /&gt;% of
    &lt;input state.bind name=&quot;total&quot; /&gt;
    is: {{ script.calcResult }}
&lt;/Template&gt;

&lt;State
    perc:=50
    total:=30
&gt;&lt;/State&gt;

&lt;Script&gt;
    function prepareCallback() {
        const calcResult = (state.perc / 100) * state.total;
        return { calcResult };
    }
&lt;/Script&gt;

&lt;Style&gt;
    input { display: inline; width: 25px }
&lt;/Style&gt;
" mode="modulo" style="
                    font-family: monospace;
                    text-align: start;
                    resize: none;
                    box-sizing: border-box;
                    font-size: 18px;
                    
                        white-space: pre;
                    " modulo-mount-html=""><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">Template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">state.bind</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"perc"</span> /&gt;</span>% of
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">state.bind</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"total"</span> /&gt;</span>
    is: </span><span class="hljs-template-variable">{{ script.calcResult }}</span><span class="language-xml">
<span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">Template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">State</span>
    <span class="hljs-attr">perc:</span>=<span class="hljs-modulo-attr-value-lit">50</span>
    <span class="hljs-attr">total:</span>=<span class="hljs-modulo-attr-value-lit">30</span>
&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">State</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">Script</span>&gt;</span><span class="language-javascript">
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">prepareCallback</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">const</span> calcResult = (state.<span class="hljs-property">perc</span> / <span class="hljs-number">100</span>) * state.<span class="hljs-property">total</span>;
        <span class="hljs-keyword">return</span> { calcResult };
    }
</span><span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">Script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">Style</span>&gt;</span><span class="language-css">
    <span class="hljs-selector-tag">input</span> { <span class="hljs-attribute">display</span>: inline; <span class="hljs-attribute">width</span>: <span class="hljs-number">25px</span> }
</span><span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">Style</span>&gt;</span>
</span></x-syntaxhighlighter>
          </div>
      </div>
      <textarea data-gramm="false" name="value" spellcheck="false" style="
            font-size: 18px;
            
                white-space: pre;
            " script.ref="" on.scroll="script.updateDimensions"></textarea>
  </div></x-mirroreditor>
        
        <div class="toolbar toolbar--small toolbar--autohide
             ">
            
                <button><span alt="Clipboard icon">📋</span> Copy</button>
                <button><span alt="Refresh arrow in circle">⟳</span> Run</button>
                <button><span alt="Download arrow downward">⤓</span> Save</button>
            
        </div>
        
    <iframe></iframe></div>
    <div class="overlay"></div></x-quickdemo>
<p>Note that in some cases you may instead want to make a custom template filter (see below, in the section *Filter).</p>
<h4 id="variablesfromcparts">Variables from CParts</h4>
<p>Each <em>CPart</em> within a given component may contribute a variable to the <em>Template</em>. Of the built-in CParts, the following contribute a variable with useful data:</p>
<ul>
<li><strong>Props</strong> - If the <em>Props</em> CPart is present, then you will have a <code>{{ props }}</code> variable available. This gives access to the current value of props data. For example, <code>{{ props.title }}</code> gives access to the current value of the "title" attribute of the component.</li>
<li><strong>State</strong> - If the <em>State</em> CPart is present, then you will have a <code>{{ state }}</code> variable available. This gives access to the current value of state data, the object that represents state. For example, <code>{{ state.number }}</code> gives access to the current value of the "number" property of state.</li>
<li><strong>Script</strong> - If the <em>Script</em> CPart is present, then you will have a <code>{{ script }}</code> variable available. The main uses of this for access to computed variables from the <code>prepareCallback</code>.</li>
</ul>
<h4 id="variablesfromtemplatetags">Variables from templatetags</h4>
<p>We'll go over template-tags later, but some template-tags can add variables into the mix as well. As a sneak-peak, examine the following code:</p>
<p>Note how <code>athlete</code> declares a new variable, which can be reused in
<code>{{ athlete.name }}</code>. For more on for-loops, see the
<a href="/docs/templating/tags.html#for">built-in template-tag reference.</a></p><x-quickdemo mode="modulo" value="{% for athlete in state.athletes %}
    &lt;p&gt;{{ athlete.name }}&lt;/p&gt;
{% endfor %}
" modulo-mount-html=""><div class="editor-layout" style="--demo-width: 0px;">
        
            <x-syntaxhighlighter mode="modulo" value="{% for athlete in state.athletes %}
    &lt;p&gt;{{ athlete.name }}&lt;/p&gt;
{% endfor %}
" style="font-size: 18px" modulo-mount-html=""><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-name">for</span></span> athlete <span class="hljs-keyword">in</span> state.athletes %}</span><span class="language-xml">
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-template-variable">{{ athlete.name }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-name">endfor</span></span> %}</span><span class="language-xml">
</span></x-syntaxhighlighter>
        
        <div class="toolbar toolbar--small toolbar--autohide
             toolbar--snippet">
            
                <button><span alt="Clipboard icon">📋</span> Copy</button>
            
        </div>
        
    </div>
    <div class="overlay"></div></x-quickdemo>
<h2 id="variablesyntax">Variable Syntax</h2>
<h3 id="thequandaryofkebabvscamel">The quandary of kebab vs camel</h3>
<p>In naming variables in programming languages, there are several popular syntax
options. One is nicknamed "camel case", which <code>looksLikeThis</code> (kind of like
humps on a camel's back), and "kebab case", which <code>looks-like-this</code> (kind of
like food on a kebab skewer). These silly nicknames might require some
imagination, but hopefully they also make it easier to remember!</p>
<p>The Modulo templating language supports either of these two options. It has to
be flexible since it sits at the "crossroads" of HTML, which uses "kebab" while
ignoring capital letters, and JavaScript, which respects capital letters and
thus can use "camel" syntax.  For example, <code>data-results</code> (kebab) is a valid
HTML attribute name, but not a valid JavaScript variable name, since <code>-</code> is
forbidden. In JavaScript, it would be normal to use <code>dataResults</code> (camel)
instead. However, since capitalization is ignored in both plain HTML and
Component Part definitions, ignoring case means <code>dataResults</code> looks the same as
<code>dataresults</code> and <code>DATARESULTS</code>, so there's no way to preserve that formatting.
In other words, outside of <em>Script</em> CParts, we should use <code>data-results</code> (kebab
case) to keep it case-insensitive and HTML-friendly.</p>
<h3 id="examples">Examples</h3>
<h4 id="example1automaticcamelcase">Example #1: Automatic camel case</h4>
<p>Examine the following example. Note how in Templating, you can use either
syntax, but in JavaScript, you can't write unquoted property names with <code>-</code>
characters:</p><x-quickdemo mode="modulo" demo="modulo" value="&lt;Template&gt;
    &lt;p&gt;(State) Dashes: {{ state.i-like-long-variable-names }}&lt;/p&gt;
    &lt;p&gt;(State) Capitals: {{ state.iLikeLongVariableNames }}&lt;/p&gt;
    &lt;p&gt;(Script) Dashes: {{ script.also-here }}&lt;/p&gt;
    &lt;p&gt;(Script) Capitals: {{ script.alsoHere }}&lt;/p&gt;
&lt;/Template&gt;
&lt;State
    i-like-long-variable-names=&quot;ok&quot;
&gt;&lt;/State&gt;
&lt;!-- Always incorrect: &lt;State iLikeLongVariableNames=&quot;ok&quot;&gt; --&gt;
&lt;Script&gt;
    function prepareCallback() {
        return {
            alsoHere: &quot;ok&quot;,
            // Always incorrect: also-here: &quot;ok&quot;
        }
    }
&lt;/Script&gt;
" modulo-mount-html=""><div class="editor-layout" style="--demo-width: 250px;">
        
            <x-mirroreditor name="value" mode="modulo" modulo-mount-html=""><div class="editor-wrapper" on.click="script.updateDimensions">
      <div class="editor-underlay-container" style="
            width:    224px
                    ;
            height:  48px
                    ;
          ">
          <div class="editor-underlay-offset-wrapper" style="
                
                
                
                    width: 224px; 
              "><x-syntaxhighlighter value="&lt;Template&gt;
    &lt;p&gt;(State) Dashes: {{ state.i-like-long-variable-names }}&lt;/p&gt;
    &lt;p&gt;(State) Capitals: {{ state.iLikeLongVariableNames }}&lt;/p&gt;
    &lt;p&gt;(Script) Dashes: {{ script.also-here }}&lt;/p&gt;
    &lt;p&gt;(Script) Capitals: {{ script.alsoHere }}&lt;/p&gt;
&lt;/Template&gt;
&lt;State
    i-like-long-variable-names=&quot;ok&quot;
&gt;&lt;/State&gt;
&lt;!-- Always incorrect: &lt;State iLikeLongVariableNames=&quot;ok&quot;&gt; --&gt;
&lt;Script&gt;
    function prepareCallback() {
        return {
            alsoHere: &quot;ok&quot;,
            // Always incorrect: also-here: &quot;ok&quot;
        }
    }
&lt;/Script&gt;
" mode="modulo" style="
                    font-family: monospace;
                    text-align: start;
                    resize: none;
                    box-sizing: border-box;
                    font-size: 18px;
                    
                        white-space: pre;
                    " modulo-mount-html=""><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">Template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>(State) Dashes: </span><span class="hljs-template-variable">{{ state.i-like-long-variable-names }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>(State) Capitals: </span><span class="hljs-template-variable">{{ state.iLikeLongVariableNames }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>(Script) Dashes: </span><span class="hljs-template-variable">{{ script.also-here }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>(Script) Capitals: </span><span class="hljs-template-variable">{{ script.alsoHere }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">Template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">State</span>
    <span class="hljs-attr">i-like-long-variable-names</span>=<span class="hljs-string">"ok"</span>
&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">State</span>&gt;</span>
<span class="hljs-comment">&lt;!-- Always incorrect: &lt;State iLikeLongVariableNames="ok"&gt; --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">Script</span>&gt;</span><span class="language-javascript">
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">prepareCallback</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">alsoHere</span>: <span class="hljs-string">"ok"</span>,
            <span class="hljs-comment">// Always incorrect: also-here: "ok"</span>
        }
    }
</span><span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">Script</span>&gt;</span>
</span></x-syntaxhighlighter>
          </div>
      </div>
      <textarea data-gramm="false" name="value" spellcheck="false" style="
            font-size: 18px;
            
                white-space: pre;
            " script.ref="" on.scroll="script.updateDimensions"></textarea>
  </div></x-mirroreditor>
        
        <div class="toolbar toolbar--small toolbar--autohide
             ">
            
                <button><span alt="Clipboard icon">📋</span> Copy</button>
                <button><span alt="Refresh arrow in circle">⟳</span> Run</button>
                <button><span alt="Download arrow downward">⤓</span> Save</button>
            
        </div>
        
    <iframe></iframe></div>
    <div class="overlay"></div></x-quickdemo>
<h4 id="example2avoidingautomaticcamelcase">Example #2: Avoiding automatic camel case</h4>
<p>Sometimes there is data in a JavaScript object that is written using the
HTML-style kebab case. Even though it might be awkward to write like this in
JavaScript, it's pretty common to encounter this in JSON files.  In this case,
the solution is using the <code>|get</code> filter. It still supports <code>.</code> syntax to "drill
down" to access properties, but does it does not do camel case transformation.
See below:</p><x-quickdemo mode="modulo" demo="modulo" value="&lt;Template&gt;
    STAT: {{ staticdata|get:&quot;database-query-results.0.query-status&quot; }}
&lt;/Template&gt;
&lt;StaticData&gt;
{
    &quot;database-query-results&quot;: [
        {
            &quot;query-status&quot;: &quot;OK&quot;
        }
    ]
}
&lt;/StaticData&gt;
" modulo-mount-html=""><div class="editor-layout" style="--demo-width: 250px;">
        
            <x-mirroreditor name="value" mode="modulo" modulo-mount-html=""><div class="editor-wrapper" on.click="script.updateDimensions">
      <div class="editor-underlay-container" style="
            width:    224px
                    ;
            height:  48px
                    ;
          ">
          <div class="editor-underlay-offset-wrapper" style="
                
                
                
                    width: 224px; 
              "><x-syntaxhighlighter value="&lt;Template&gt;
    STAT: {{ staticdata|get:&quot;database-query-results.0.query-status&quot; }}
&lt;/Template&gt;
&lt;StaticData&gt;
{
    &quot;database-query-results&quot;: [
        {
            &quot;query-status&quot;: &quot;OK&quot;
        }
    ]
}
&lt;/StaticData&gt;
" mode="modulo" style="
                    font-family: monospace;
                    text-align: start;
                    resize: none;
                    box-sizing: border-box;
                    font-size: 18px;
                    
                        white-space: pre;
                    " modulo-mount-html=""><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">Template</span>&gt;</span>
    STAT: </span><span class="hljs-template-variable">{{ staticdata|get:<span class="hljs-string">"database-query-results.0.query-status"</span> }}</span><span class="language-xml">
<span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">Template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">StaticData</span>&gt;</span>
{
    "database-query-results": [
        {
            "query-status": "OK"
        }
    ]
}
<span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">StaticData</span>&gt;</span>
</span></x-syntaxhighlighter>
          </div>
      </div>
      <textarea data-gramm="false" name="value" spellcheck="false" style="
            font-size: 18px;
            
                white-space: pre;
            " script.ref="" on.scroll="script.updateDimensions"></textarea>
  </div></x-mirroreditor>
        
        <div class="toolbar toolbar--small toolbar--autohide
             ">
            
                <button><span alt="Clipboard icon">📋</span> Copy</button>
                <button><span alt="Refresh arrow in circle">⟳</span> Run</button>
                <button><span alt="Download arrow downward">⤓</span> Save</button>
            
        </div>
        
    <iframe></iframe></div>
    <div class="overlay"></div></x-quickdemo>
<h3 id="syntaxbestpractices">Syntax best practices</h3>
<p>In <em>Templates</em>, use dash syntax as much as possible, since it "blends in" with the
surrounding HTML and Component Part definitions (e.g. <code>{{ script.also-here }}</code>). Only use <code>|get</code> as a last
resort, when the default syntax fails you (e.g. in Example #2).</p>
<p>In <em>Scripts</em>, use capitalization syntax as much as possible sicne it "blends
in" with the surounding JavaScript code.</p>
<h1 id="filters">Filters</h1>
<p>You can modify variables for display by using filters.</p>
<p>Filters look like this: <code>{{ name|lower }}</code>. This displays the value of the <code>{{
name }}</code> variable after being filtered through the lower filter, which converts
text to lowercase. Use a pipe (|) to apply a filter.</p>
<p>Filters can be "chained." The output of one filter is applied to the next. This
chaining feature can be applied to combine behavior of two or more filters. For
example, using a filter chain like
<code>{{ state.color|allow:"red,blue"|default:"green" }}</code> is a way to conditionally
allow for only certain strings to be in <code>state.color</code>, while providing a
default if none were specified.</p>
<p>Some filters take arguments. A filter argument looks like this: <code>{{
state.bio|truncate:30 }}</code>. This will display the first 30 characters of the bio
variable, possibly appending an ellipsis if its full length exceeds that.</p>
<p>Filter arguments that contain spaces must be quoted; for example, to join a
list with commas and spaces you'd use <code>{{ state.list|join:", " }}</code>.</p>
<p>Modulo's templating language provides many built-in template filters.
You can read all about them in the 
<a href="/docs/templating/filters.html">built-in filter reference</a>.</p>
<h2 id="commontemplatefilters">Common template filters</h2>
<p>To give you an idea of what a filter might be useful for, one popular filter to
use as an example is the <code>|default</code> filter.  This filter shows the variable if
it has a value. However, if a variable is false, empty, or 0, it will use a
default value instead.  For example, consider the following "profile card"
snippet, and summary of template filters used:</p><x-quickdemo mode="modulo" value="&lt;div class=&quot;profile-card&quot;&gt;
    &lt;p&gt;Username: &lt;tt&gt;@{{ user.username|lower }}&lt;/tt&gt;&lt;/p&gt;
    &lt;p&gt;Real name: &lt;tt&gt;{{ user.namesArray|join:&quot; &quot; }}&lt;/tt&gt;&lt;/p&gt;
    &lt;p&gt;Pronouns: &lt;tt&gt;{{ user.pronouns|default:&quot;(None specified)&quot; }}&lt;/tt&gt;&lt;/p&gt;
&lt;/div&gt;
" modulo-mount-html=""><div class="editor-layout" style="--demo-width: 0px;">
        
            <x-syntaxhighlighter mode="modulo" value="&lt;div class=&quot;profile-card&quot;&gt;
    &lt;p&gt;Username: &lt;tt&gt;@{{ user.username|lower }}&lt;/tt&gt;&lt;/p&gt;
    &lt;p&gt;Real name: &lt;tt&gt;{{ user.namesArray|join:&quot; &quot; }}&lt;/tt&gt;&lt;/p&gt;
    &lt;p&gt;Pronouns: &lt;tt&gt;{{ user.pronouns|default:&quot;(None specified)&quot; }}&lt;/tt&gt;&lt;/p&gt;
&lt;/div&gt;
" style="font-size: 18px" modulo-mount-html=""><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"profile-card"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Username: <span class="hljs-tag">&lt;<span class="hljs-name">tt</span>&gt;</span>@</span><span class="hljs-template-variable">{{ user.username|<span class="hljs-name">lower</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">tt</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Real name: <span class="hljs-tag">&lt;<span class="hljs-name">tt</span>&gt;</span></span><span class="hljs-template-variable">{{ user.namesArray|<span class="hljs-name">join</span>:<span class="hljs-string">" "</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">tt</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Pronouns: <span class="hljs-tag">&lt;<span class="hljs-name">tt</span>&gt;</span></span><span class="hljs-template-variable">{{ user.pronouns|<span class="hljs-name">default</span>:<span class="hljs-string">"(None specified)"</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">tt</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</span></x-syntaxhighlighter>
        
        <div class="toolbar toolbar--small toolbar--autohide
             toolbar--snippet">
            
                <button><span alt="Clipboard icon">📋</span> Copy</button>
            
        </div>
        
    </div>
    <div class="overlay"></div></x-quickdemo>
<ul>
<li><a href="/docs/templating/filters.html#lower">|lower</a> - This converts the text to
lowercase, in this case showing the username in all lowercase letters</li>
<li><a href="/docs/templating/filters.html#join">|join</a> - The join filter combines an
array, in this case the user's names (e.g. first, middle, and last names)</li>
<li><a href="/docs/templating/filters.html#default">|default</a> - Finally, the third
example shows off the usefulness of the <code>|default</code> filter, which helps you
add quick default values for fields that are sometimes unspecified. In this
case value, if the value of the pronouns field is a falsy or undefined value
it will showing a more human-friendly placeholder message instead of just
<code>undefined</code>, <code>null</code>, or <code>false</code></li>
</ul>
<p>These are just a few of the dozens of filters available. See the <a href="/docs/templating/filters.html">Template
Filter reference</a> for the complete list.</p>
<h2 id="customfilters">Custom filters</h2>
<p>Registering custom filters requires little code, and can be done in
a <em>Configuration</em> definition at the top level.  See below for two examples of
registering a custom filter:</p><x-quickdemo mode="modulo" demo="modulo_embed" value="&lt;script Configuration&gt;
    // This tiny custom template filter has no extra arguments,
    // and simply doubles the single expected input.
    modulo.templateFilter.twice = value =&gt; value * 2

    modulo.templateFilter.percent = function percent(value, arg) {
        // This custom template filter has more complicated math 
        // that takes the percentage of the value and formats it.
    	const num = (value / 100) * arg;
        return  `${ num }% of ${ arg }`;
    }
&lt;/script&gt;

&lt;Component name=App&gt;
    &lt;Template&gt;
        Total * 2: {{ state.total|twice }} &lt;hr /&gt;
        A: {{ state.a|percent:state.total }}&lt;br /&gt;
        B: {{ state.b|percent:state.total }}
    &lt;/Template&gt;
    &lt;State
        a:=3
        b:=13
        total:=42
    &gt;&lt;/State&gt;
&lt;/Component&gt;
" modulo-mount-html=""><div class="editor-layout" style="--demo-width: 250px;">
        
            <x-mirroreditor name="value" mode="modulo" modulo-mount-html=""><div class="editor-wrapper" on.click="script.updateDimensions">
      <div class="editor-underlay-container" style="
            width:    224px
                    ;
            height:  48px
                    ;
          ">
          <div class="editor-underlay-offset-wrapper" style="
                
                
                
                    width: 224px; 
              "><x-syntaxhighlighter value="&lt;script Configuration&gt;
    // This tiny custom template filter has no extra arguments,
    // and simply doubles the single expected input.
    modulo.templateFilter.twice = value =&gt; value * 2

    modulo.templateFilter.percent = function percent(value, arg) {
        // This custom template filter has more complicated math 
        // that takes the percentage of the value and formats it.
    	const num = (value / 100) * arg;
        return  `${ num }% of ${ arg }`;
    }
&lt;/script&gt;

&lt;Component name=App&gt;
    &lt;Template&gt;
        Total * 2: {{ state.total|twice }} &lt;hr /&gt;
        A: {{ state.a|percent:state.total }}&lt;br /&gt;
        B: {{ state.b|percent:state.total }}
    &lt;/Template&gt;
    &lt;State
        a:=3
        b:=13
        total:=42
    &gt;&lt;/State&gt;
&lt;/Component&gt;
" mode="modulo" style="
                    font-family: monospace;
                    text-align: start;
                    resize: none;
                    box-sizing: border-box;
                    font-size: 18px;
                    
                        white-space: pre;
                    " modulo-mount-html=""><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-modulo-deftype-attr">Configuration</span>&gt;</span><span class="language-javascript">
    <span class="hljs-comment">// This tiny custom template filter has no extra arguments,</span>
    <span class="hljs-comment">// and simply doubles the single expected input.</span>
    modulo.<span class="hljs-property">templateFilter</span>.<span class="hljs-property">twice</span> = <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> value * <span class="hljs-number">2</span>

    modulo.<span class="hljs-property">templateFilter</span>.<span class="hljs-property">percent</span> = <span class="hljs-keyword">function</span> <span class="hljs-title function_">percent</span>(<span class="hljs-params">value, arg</span>) {
        <span class="hljs-comment">// This custom template filter has more complicated math </span>
        <span class="hljs-comment">// that takes the percentage of the value and formats it.</span>
    	<span class="hljs-keyword">const</span> num = (value / <span class="hljs-number">100</span>) * arg;
        <span class="hljs-keyword">return</span>  <span class="hljs-string">`<span class="hljs-subst">${ num }</span>% of <span class="hljs-subst">${ arg }</span>`</span>;
    }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">Component</span> <span class="hljs-attr">name</span>=<span class="hljs-modulo-attr-value">App</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">Template</span>&gt;</span>
        Total * 2: </span><span class="hljs-template-variable">{{ state.total|twice }}</span><span class="language-xml"> <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span>
        A: </span><span class="hljs-template-variable">{{ state.a|percent:state.total }}</span><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
        B: </span><span class="hljs-template-variable">{{ state.b|percent:state.total }}</span><span class="language-xml">
    <span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">Template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">State</span>
        <span class="hljs-attr">a:</span>=<span class="hljs-modulo-attr-value-lit">3</span>
        <span class="hljs-attr">b:</span>=<span class="hljs-modulo-attr-value-lit">13</span>
        <span class="hljs-attr">total:</span>=<span class="hljs-modulo-attr-value-lit">42</span>
    &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">State</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">Component</span>&gt;</span>
</span></x-syntaxhighlighter>
          </div>
      </div>
      <textarea data-gramm="false" name="value" spellcheck="false" style="
            font-size: 18px;
            
                white-space: pre;
            " script.ref="" on.scroll="script.updateDimensions"></textarea>
  </div></x-mirroreditor>
        
        <div class="toolbar toolbar--small toolbar--autohide
             ">
            
                <button><span alt="Clipboard icon">📋</span> Copy</button>
                <button><span alt="Refresh arrow in circle">⟳</span> Run</button>
                <button><span alt="Download arrow downward">⤓</span> Save</button>
            
        </div>
        
    <iframe></iframe></div>
    <div class="overlay"></div></x-quickdemo>
<h1 id="tags">Tags</h1>
<p>Tags look like this: <code>{% tag %}</code> (except with the word "tag" replaced with
something else). Tags can be more complex than variables: Some create text in
the output, some control flow by performing loops or logic, and some load
external information into the template to be used by later variables.</p>
<p>Most built-in tags require beginning and ending tags, in the format of:
<code>{% tag %}...contents...{% endtag %}</code></p>
<p>Modulo ships with several built-in template-tags. You can read all about them
in the <a href="/docs/templating/tags.html">built-in template-tag reference</a>.</p>
<h2 id="commontemplatetags">Common template tags</h2>
<p>For examples, here is an example and summary of <strong>if</strong> and <strong>for</strong>, the two
most commonly used template-tags:</p><x-quickdemo mode="modulo" value="&lt;ul&gt;
    {% for athlete in state.athletes %}
        &lt;li&gt;{{ athlete.name }}&lt;/li&gt;
    {% endfor %}
&lt;/ul&gt;
{% if state.athletes.length is 10 %}
    Team is full (10 max)
{% endif %}
" modulo-mount-html=""><div class="editor-layout" style="--demo-width: 0px;">
        
            <x-syntaxhighlighter mode="modulo" value="&lt;ul&gt;
    {% for athlete in state.athletes %}
        &lt;li&gt;{{ athlete.name }}&lt;/li&gt;
    {% endfor %}
&lt;/ul&gt;
{% if state.athletes.length is 10 %}
    Team is full (10 max)
{% endif %}
" style="font-size: 18px" modulo-mount-html=""><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
    </span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-name">for</span></span> athlete <span class="hljs-keyword">in</span> state.athletes %}</span><span class="language-xml">
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span></span><span class="hljs-template-variable">{{ athlete.name }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    </span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-name">endfor</span></span> %}</span><span class="language-xml">
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-name">if</span></span> state.athletes.length is 10 %}</span><span class="language-xml">
    Team is full (10 max)
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-name">endif</span></span> %}</span><span class="language-xml">
</span></x-syntaxhighlighter>
        
        <div class="toolbar toolbar--small toolbar--autohide
             toolbar--snippet">
            
                <button><span alt="Clipboard icon">📋</span> Copy</button>
            
        </div>
        
    </div>
    <div class="overlay"></div></x-quickdemo>
<ul>
<li><strong><code>{% for %}</code></strong> - <em>Summary:</em> Duplicate a block of HTML code for every item in
a collection of items (e.g. an array). <ul>
<li>Allows a HTML code to be repeated while "looping" over each item</li>
<li>Example: In this case, it displayed a list of athletes, assuming each
athlete is an Object with a property <code>.name</code>, in an Array called
<code>state.athletes</code></li></ul></li>
<li><strong><code>{% if %}</code></strong> - <em>Summary:</em> Only shows a block of HTML code if the condition
is met or the variable is a true value<ul>
<li>Allows conditional rendering of HTML, or alternating appearances (e.g.
toggling collapsed and visible for a modal pop-up or accordian component)</li>
<li>Example: In this case, it will only show "Team is full (10 max)" if there
are exactly 10 athletes in that Array</li></ul></li>
</ul>
<p>Again, these are just two of them, while the <a href="/docs/templating/tags.html">rest are documented
here</a>.</p>
<h3 id="differencesbetweentagsandfilters">Differences between tags and filters</h3>
<p>The outward differences between tags and filters are the syntax and behavior:
Tags have percent-sign syntax (e.g. <code>{% tag example %}</code>) and are usually for
control flow, while template filters use curly brace and vertical pipe syntax
(e.g. <code>{{ example|filter }}</code>) and are usually for modifying or preparing values
for display.</p>
<p>There is a big underlying behavioral difference, as well. The most important
difference between template tags and template filters are that template tags
are interpreted at "compile-time" while filters are interpreted at
"render-time".</p>
<h4 id="tagscompiletime">Tags: Compile-time</h4>
<p>"Compile time" is when the template is first loaded, no matter if  it was
embedded in a <code>&lt;Template&gt;</code> or using a <code>-src=</code>). Compile time only happens once,
and will not happen ever if you are running a "build" or production version of
a Modulo component bundle.</p>
<p>The pluses of "compile time" involve efficiency: Your template tag code can be
as complicated or inefficient as necessary, and as long as the code it outputs
is efficient, the final bundled JavaScript can be lean and mean, possibly
omitting the code used to generate it.  The caveats are that mistakes with
template tags might stop the component from rendering or compiling JavaScript
at all, e.g. mistakes such as syntax typo or a buggy third-party template tag.</p>
<h4 id="filterrendertime">Filter: Render-time</h4>
<p>"Render time" when the component is outputting it's HTML into the DOM, after
it's loaded. Mistakes with filters may only be detected when it tries using it,
and could even be overlooked if the filter doesn't get used, e.g. it's only
within an if statement that you haven't tested. </p>
<p>Filters should always get included in compiled bundles, since they get run each
time the component rerenders. The pluses are they are much easier to write. The
caveats are they might be less efficient, depending on the situation.</p>
<h2 id="customtags">Custom tags</h2>
<p>Just like filters, you can also create your own custom template tags.  Custom
tags are more difficult to write, since they are run during build time (not
during "run time", like filters). That means they need to <em>generate</em> the
JavaScript code that <em>does what you want</em>, as opposed to <em>do what you want
directly</em>. To register a template tag, be sure to register it at the top level,
since it will be needed during build time:</p><x-quickdemo mode="modulo" value="&lt;script Configuration&gt;
    modulo.templateTag.showval = function showval (text, templateCPart) {
        // &quot;OUT&quot; is the output array, &quot;CTX&quot; is the local variable context:
        return `
            OUT.push('&lt;p&gt;&lt;em&gt;' + &quot;${ text }&quot; + '&lt;/em&gt;=') });
            OUT.push(CTX[&quot;${ text }&quot;]);
            OUT.push('&lt;/p&gt;');
        `;
    }
&lt;/script&gt;
" modulo-mount-html=""><div class="editor-layout" style="--demo-width: 0px;">
        
            <x-syntaxhighlighter mode="modulo" value="&lt;script Configuration&gt;
    modulo.templateTag.showval = function showval (text, templateCPart) {
        // &quot;OUT&quot; is the output array, &quot;CTX&quot; is the local variable context:
        return `
            OUT.push('&lt;p&gt;&lt;em&gt;' + &quot;${ text }&quot; + '&lt;/em&gt;=') });
            OUT.push(CTX[&quot;${ text }&quot;]);
            OUT.push('&lt;/p&gt;');
        `;
    }
&lt;/script&gt;
" style="font-size: 18px" modulo-mount-html=""><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-modulo-deftype-attr">Configuration</span>&gt;</span><span class="language-javascript">
    modulo.<span class="hljs-property">templateTag</span>.<span class="hljs-property">showval</span> = <span class="hljs-keyword">function</span> <span class="hljs-title function_">showval</span> (text, templateCPart) {
        <span class="hljs-comment">// "OUT" is the output array, "CTX" is the local variable context:</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">`
            OUT.push('&lt;p&gt;&lt;em&gt;' + "<span class="hljs-subst">${ text }</span>" + '&lt;/em&gt;=') });
            OUT.push(CTX["<span class="hljs-subst">${ text }</span>"]);
            OUT.push('&lt;/p&gt;');
        `</span>;
    }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</span></x-syntaxhighlighter>
        
        <div class="toolbar toolbar--small toolbar--autohide
             toolbar--snippet">
            
                <button><span alt="Clipboard icon">📋</span> Copy</button>
            
        </div>
        
    </div>
    <div class="overlay"></div></x-quickdemo>
<blockquote>
  <p><strong>Why not HTML comments?</strong>
  In most code, HTML comments are available. For example, you can ignore an
  entire <code>&lt;Template&gt;</code> part like this: <code>&lt;!--&lt;Template&gt;...--&gt;</code> However, within
  a <em>Template</em>, HTML Comments are part of the template itself, and will be in the
  resulting DOM when the template renders. Furthermore, template code within the
  comment will be treated like any other template code.  For example,
  <code>&lt;!-- {{ state.msg|upper }} --&gt;</code> will result in a comment being produced in the
  DOM with the uppercase value of <code>state.msg</code> (e.g. <code>&lt;!-- HELLO WORLD --&gt;</code>).
  Thus, to <em>fully ignore</em> HTML or template-tags <em>within</em> a <code>&lt;Template&gt;</code>, more
  types of comments are needed.</p>
</blockquote>
<h1 id="commentinganddebugging">Commenting and debugging</h1>
<h2 id="shortcommentsyntax">Short comment syntax</h2>
<p>To add a short note or comment: <code>{# text in here is ignored #}</code></p>
<p>This syntax should only be used for short, single-line messages, and cannot
contain disable portions of template code.</p>
<h2 id="commenttag">Comment tag</h2>
<p>To comment out text or code: <code>{% comment %}text in here is ignored{% endcomment %}</code></p>
<p>If you need to comment out <em>Template</em> code, or a multiline portion of the
template, then use this comment tag syntax instead, which will work in more
cases.</p>
<p>Examples of both types:</p><x-quickdemo mode="modulo" value="&lt;h1&gt;hello {# greeting #}&lt;/h1&gt;
{% comment %}
  {% if a %}&lt;div&gt;{{ b }}&lt;/div&gt;{% endif %}
  &lt;h3&gt;{{ state.items|first }}&lt;/h3&gt;
{% endcomment %}
&lt;p&gt;Below the greeting...&lt;/p&gt;
" modulo-mount-html=""><div class="editor-layout" style="--demo-width: 0px;">
        
            <x-syntaxhighlighter mode="modulo" value="&lt;h1&gt;hello {# greeting #}&lt;/h1&gt;
{% comment %}
  {% if a %}&lt;div&gt;{{ b }}&lt;/div&gt;{% endif %}
  &lt;h3&gt;{{ state.items|first }}&lt;/h3&gt;
{% endcomment %}
&lt;p&gt;Below the greeting...&lt;/p&gt;
" style="font-size: 18px" modulo-mount-html=""><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>hello </span><span class="hljs-comment">{# greeting #}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
</span><span class="hljs-comment">{% comment %}
  {% if a %}&lt;div&gt;{{ b }}&lt;/div&gt;{% endif %}
  &lt;h3&gt;{{ state.items|first }}&lt;/h3&gt;
{% endcomment %}</span><span class="language-xml">
<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Below the greeting...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</span></x-syntaxhighlighter>
        
        <div class="toolbar toolbar--small toolbar--autohide
             toolbar--snippet">
            
                <button><span alt="Clipboard icon">📋</span> Copy</button>
            
        </div>
        
    </div>
    <div class="overlay"></div></x-quickdemo>
<h2 id="debuggertag">Debugger tag</h2>
<p>Modulo templates generate JavaScript code which mirrors the logic found in the
template. Like all generated code in Modulo, it gets appended to the <code>&lt;head&gt;</code>
as a <code>&lt;script&gt;</code> tag. When inspecting the resulting JavaScript code, note the
JavaScript comments to each line indicating the Templating text that
corresponds, so if a Modulo template is behaving unexpectedly, you can examine
the actual code getting generated.</p>
<p>Modulo templates also come equipped with the <code>{% debugger %}</code> template tag.
This will insert a <code>debugger;</code> JavaScript statement. This "freezes" your app in
time. After halting execution at the given statement, your browser's Developer
Tools will allow you to inspect the values of local variables in the generated
Template code itself. Note that the <code>CTX</code> variable refers to the Template
render context (which, in the case of Modulo components, refers to the
<code>renderObj</code>, or the object that has <code>script</code>, <code>state</code> etc. properties generated
by component parts). This is typically what you'll want to poke around on to
figure out why something is broken. Example below, with a comment hinting at a
story as to why the debugger was used:</p><x-quickdemo mode="modulo" value="{% for item in state.data %}
    {{ item.user_id }} {# Bug: Keeps on coming back as &quot;undefined&quot; #}
    {% debugger %}
{% endfor %}
" modulo-mount-html=""><div class="editor-layout" style="--demo-width: 0px;">
        
            <x-syntaxhighlighter mode="modulo" value="{% for item in state.data %}
    {{ item.user_id }} {# Bug: Keeps on coming back as &quot;undefined&quot; #}
    {% debugger %}
{% endfor %}
" style="font-size: 18px" modulo-mount-html=""><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-name">for</span></span> item <span class="hljs-keyword">in</span> state.data %}</span><span class="language-xml">
    </span><span class="hljs-template-variable">{{ item.user_id }}</span><span class="language-xml"> </span><span class="hljs-comment">{# <span class="hljs-doctag">Bug:</span> Keeps on coming back as "undefined" #}</span><span class="language-xml">
    </span><span class="hljs-template-tag">{% <span class="hljs-name">debugger</span> %}</span><span class="language-xml">
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-name">endfor</span></span> %}</span><span class="language-xml">
</span></x-syntaxhighlighter>
        
        <div class="toolbar toolbar--small toolbar--autohide
             toolbar--snippet">
            
                <button><span alt="Clipboard icon">📋</span> Copy</button>
            
        </div>
        
    </div>
    <div class="overlay"></div></x-quickdemo>
<p><strong>Note:</strong> For obvious reasons, it's very important to remember to delete all
your "debugger" statements before you release your code, or your app may freeze
for other people as well.</p>
<blockquote>
  <p><strong>What is safe?</strong> All data is considered "untrusted" by default, as in, you
  can't trust that it's not from some person trying to hack a user on your
  site, or inject spam onto a platform. It's up to the developer to choose what
  is "trusted". You should only mark trusted data as <code>|safe</code>. You don't want
  anyone trying to slip in malicious JS behavior! How to validate if a bit of
  HTML is safe to include verbatim (e.g. when to use <code>|safe</code>) is outside the
  scope of this document, but in general, you can trust HTML from a trusted
  source, e.g. yourself or a member of your team or organization, and,
  sometimes, you can trust user-supplied data, when it has already been
  generated or validated on a backend web server or database management system,
  such as something that allows only certain tags of HTML and strips away
  anything else.</p>
</blockquote>
<h1 id="escaping">Escaping</h1>
<p>Every template automatically escapes the output of every template variable.  By
default in Modulo, it escapes 5 characters by replacing each with its
corresponding HTML character entitty to prevent it from being interpreted as
code. Specifically, these five characters are escaped, since they are the ones
that are "dangerous" for HTML and URL syntax: <code>&gt;</code> (greater than), <code>&lt;</code> (less
than), <code>'</code> (single quote), <code>"</code> (double quote), <code>&amp;</code> (ampersand). </p>
<h2 id="thepurposeofescaping">The purpose of escaping</h2>
<p>Since Modulo Templates generate HTML, which then gets intepreted into the DOM,
there's there's a risk that a variable will include characters that affect the
resulting HTML, by closing a tag or quotation early (or accidentally opening a
new one). For example, consider this template fragment:</p><x-quickdemo mode="modulo" value="&lt;p&gt;Hello, {{ state.name }}&lt;/p&gt;
" modulo-mount-html=""><div class="editor-layout" style="--demo-width: 0px;">
        
            <x-syntaxhighlighter mode="modulo" value="&lt;p&gt;Hello, {{ state.name }}&lt;/p&gt;
" style="font-size: 18px" modulo-mount-html=""><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Hello, </span><span class="hljs-template-variable">{{ state.name }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</span></x-syntaxhighlighter>
        
        <div class="toolbar toolbar--small toolbar--autohide
             toolbar--snippet">
            
                <button><span alt="Clipboard icon">📋</span> Copy</button>
            
        </div>
        
    </div>
    <div class="overlay"></div></x-quickdemo>
<p>Imagine if a user were to enter their name as <code>&lt;/p&gt;&lt;h1&gt;Big</code>. If the template
system were to insert that value directly, without modification, it would
result in the P tag getting closed prematurely, and a H1 tag taking over,
making the text large.  Furthermore, a malicious user could even use this
vulnerability to add in JavaScript behavior (e.g. via an "onclick") that acts
on behalf of other users, such as by sending requests to an API. To avoid this
problem, Modulo uses automatic escaping.</p>
<h2 id="safetoturnoffescaping">Safe to turn off escaping</h2>
<p>Sometimes you want to have HTML in variables, such as a <em>Prop</em> that accepts
HTML for styling, or a string of HTML that might be user-entered, but it's
loaded from a trusted source, such as a staff-only database or API. If you have
HTML in a variable that that you actually intend to be rendered as HTML, then
you will need to turn off escaping.  To disable auto-escaping for an individual
variable, you need to "mark it as safe". That is, you are saying to Modulo
Templating that this value may have special HTML characters, but it's safe
to assume it's valid, trustworthy HTML. </p>
<h3 id="examples">Examples</h3>
<p>Escaping is sometimes easiest understood with examples. Try the following
demonstrations for example use of the <code>|safe</code> filter.  </p>
<h4 id="example1escapingfortagsandattributes">Example #1: Escaping for tags and attributes</h4>
<p>Note how the <code>(1) ESCAPED</code> content shows the <code>&lt;em&gt;</code> tag, since it escapes the
<code>&lt;</code> and <code>&gt;</code> symbols preventing them from being interpretted as HTML, and the
<code>(2) SAFE</code> content ends the title attribute too early.</p><x-quickdemo mode="modulo" demo="modulo" value="&lt;Template&gt;
    &lt;p&gt;(1) ESCAPED: {{ state.content }}&lt;/p&gt;
    &lt;p&gt;(1) SAFE: {{ state.content|safe }}&lt;/p&gt;
    &lt;p&gt;(2) ESCAPED: &lt;tt title=&quot;{{ state.content }}&quot;&gt;HOVER&lt;/tt&gt;&lt;/p&gt;
    &lt;p&gt;(2) SAFE: &lt;tt title=&quot;{{ state.content|safe }}&quot;&gt;HOVER&lt;/tt&gt;&lt;/p&gt;
&lt;/Template&gt;
&lt;State
    content='There is no &quot;there&quot; &lt;em&gt;there&lt;/em&gt;'
&gt;&lt;/State&gt;
&lt;Style&gt;
    p {
        font-size: 0.8rem;
    }
&lt;/Style&gt;
" modulo-mount-html=""><div class="editor-layout" style="--demo-width: 250px;">
        
            <x-mirroreditor name="value" mode="modulo" modulo-mount-html=""><div class="editor-wrapper" on.click="script.updateDimensions">
      <div class="editor-underlay-container" style="
            width:    224px
                    ;
            height:  48px
                    ;
          ">
          <div class="editor-underlay-offset-wrapper" style="
                
                
                
                    width: 224px; 
              "><x-syntaxhighlighter value="&lt;Template&gt;
    &lt;p&gt;(1) ESCAPED: {{ state.content }}&lt;/p&gt;
    &lt;p&gt;(1) SAFE: {{ state.content|safe }}&lt;/p&gt;
    &lt;p&gt;(2) ESCAPED: &lt;tt title=&quot;{{ state.content }}&quot;&gt;HOVER&lt;/tt&gt;&lt;/p&gt;
    &lt;p&gt;(2) SAFE: &lt;tt title=&quot;{{ state.content|safe }}&quot;&gt;HOVER&lt;/tt&gt;&lt;/p&gt;
&lt;/Template&gt;
&lt;State
    content='There is no &quot;there&quot; &lt;em&gt;there&lt;/em&gt;'
&gt;&lt;/State&gt;
&lt;Style&gt;
    p {
        font-size: 0.8rem;
    }
&lt;/Style&gt;
" mode="modulo" style="
                    font-family: monospace;
                    text-align: start;
                    resize: none;
                    box-sizing: border-box;
                    font-size: 18px;
                    
                        white-space: pre;
                    " modulo-mount-html=""><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">Template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>(1) ESCAPED: </span><span class="hljs-template-variable">{{ state.content }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>(1) SAFE: </span><span class="hljs-template-variable">{{ state.content|<span class="hljs-name">safe</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>(2) ESCAPED: <span class="hljs-tag">&lt;<span class="hljs-name">tt</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"</span></span></span><span class="hljs-template-variable">{{ state.content }}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">"</span>&gt;</span>HOVER<span class="hljs-tag">&lt;/<span class="hljs-name">tt</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>(2) SAFE: <span class="hljs-tag">&lt;<span class="hljs-name">tt</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"</span></span></span><span class="hljs-template-variable">{{ state.content|<span class="hljs-name">safe</span> }}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">"</span>&gt;</span>HOVER<span class="hljs-tag">&lt;/<span class="hljs-name">tt</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">Template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">State</span>
    <span class="hljs-attr">content</span>=<span class="hljs-string">'There is no "there" &lt;em&gt;there&lt;/em&gt;'</span>
&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">State</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">Style</span>&gt;</span><span class="language-css">
    <span class="hljs-selector-tag">p</span> {
        <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.8rem</span>;
    }
</span><span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">Style</span>&gt;</span>
</span></x-syntaxhighlighter>
          </div>
      </div>
      <textarea data-gramm="false" name="value" spellcheck="false" style="
            font-size: 18px;
            
                white-space: pre;
            " script.ref="" on.scroll="script.updateDimensions"></textarea>
  </div></x-mirroreditor>
        
        <div class="toolbar toolbar--small toolbar--autohide
             ">
            
                <button><span alt="Clipboard icon">📋</span> Copy</button>
                <button><span alt="Refresh arrow in circle">⟳</span> Run</button>
                <button><span alt="Download arrow downward">⤓</span> Save</button>
            
        </div>
        
    <iframe></iframe></div>
    <div class="overlay"></div></x-quickdemo>
<h4 id="example2escapinguserinputteddata">Example #2: Escaping user inputted data</h4>
<p>For a slightly more realistic example, where user message content is marked
safe, while usernames are left to be escaped, examine the following:</p><x-quickdemo mode="modulo" demo="modulo" value="&lt;Template&gt;
&lt;p&gt;User &quot;&lt;em&gt;{{ state.username }}&lt;/em&gt;&quot; sent a message:&lt;/p&gt;
&lt;div class=&quot;msgcontent&quot;&gt;
    {{ state.content|safe }}
&lt;/div&gt;
&lt;/Template&gt;
&lt;State
    username=&quot;Lil' &lt;Bobby&gt; &lt;Tables&gt;&quot;
    content='
        I &lt;i&gt;love&lt;/i&gt; the classic &lt;a target=&quot;_blank&quot;
        href=&quot;https://xkcd.com/327/&quot;&gt;xkcd #327&lt;/a&gt; on
        the risk of trusting &lt;b&gt;user inputted data&lt;/b&gt;
    '
&gt;&lt;/State&gt;
&lt;Style&gt;
    .msgcontent {
        background: #999;
        padding: 10px;
        margin: 10px;
    }
&lt;/Style&gt;
" modulo-mount-html=""><div class="editor-layout" style="--demo-width: 250px;">
        
            <x-mirroreditor name="value" mode="modulo" modulo-mount-html=""><div class="editor-wrapper" on.click="script.updateDimensions">
      <div class="editor-underlay-container" style="
            width:    224px
                    ;
            height:  48px
                    ;
          ">
          <div class="editor-underlay-offset-wrapper" style="
                
                
                
                    width: 224px; 
              "><x-syntaxhighlighter value="&lt;Template&gt;
&lt;p&gt;User &quot;&lt;em&gt;{{ state.username }}&lt;/em&gt;&quot; sent a message:&lt;/p&gt;
&lt;div class=&quot;msgcontent&quot;&gt;
    {{ state.content|safe }}
&lt;/div&gt;
&lt;/Template&gt;
&lt;State
    username=&quot;Lil' &lt;Bobby&gt; &lt;Tables&gt;&quot;
    content='
        I &lt;i&gt;love&lt;/i&gt; the classic &lt;a target=&quot;_blank&quot;
        href=&quot;https://xkcd.com/327/&quot;&gt;xkcd #327&lt;/a&gt; on
        the risk of trusting &lt;b&gt;user inputted data&lt;/b&gt;
    '
&gt;&lt;/State&gt;
&lt;Style&gt;
    .msgcontent {
        background: #999;
        padding: 10px;
        margin: 10px;
    }
&lt;/Style&gt;
" mode="modulo" style="
                    font-family: monospace;
                    text-align: start;
                    resize: none;
                    box-sizing: border-box;
                    font-size: 18px;
                    
                        white-space: pre;
                    " modulo-mount-html=""><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">Template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>User "<span class="hljs-tag">&lt;<span class="hljs-name">em</span>&gt;</span></span><span class="hljs-template-variable">{{ state.username }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">em</span>&gt;</span>" sent a message:<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"msgcontent"</span>&gt;</span>
    </span><span class="hljs-template-variable">{{ state.content|<span class="hljs-name">safe</span> }}</span><span class="language-xml">
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">Template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">State</span>
    <span class="hljs-attr">username</span>=<span class="hljs-string">"Lil' &lt;Bobby&gt; &lt;Tables&gt;"</span>
    <span class="hljs-attr">content</span>=<span class="hljs-string">'
        I &lt;i&gt;love&lt;/i&gt; the classic &lt;a target="_blank"
        href="https://xkcd.com/327/"&gt;xkcd #327&lt;/a&gt; on
        the risk of trusting &lt;b&gt;user inputted data&lt;/b&gt;
    '</span>
&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">State</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">Style</span>&gt;</span><span class="language-css">
    <span class="hljs-selector-class">.msgcontent</span> {
        <span class="hljs-attribute">background</span>: <span class="hljs-number">#999</span>;
        <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
        <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span>;
    }
</span><span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">Style</span>&gt;</span>
</span></x-syntaxhighlighter>
          </div>
      </div>
      <textarea data-gramm="false" name="value" spellcheck="false" style="
            font-size: 18px;
            
                white-space: pre;
            " script.ref="" on.scroll="script.updateDimensions"></textarea>
  </div></x-mirroreditor>
        
        <div class="toolbar toolbar--small toolbar--autohide
             ">
            
                <button><span alt="Clipboard icon">📋</span> Copy</button>
                <button><span alt="Refresh arrow in circle">⟳</span> Run</button>
                <button><span alt="Download arrow downward">⤓</span> Save</button>
            
        </div>
        
    <iframe></iframe></div>
    <div class="overlay"></div></x-quickdemo>
<h2 id="directusageoftemplateinterface">Direct usage of Template interface</h2>
<p>Modulo's Template language can be used as a regular JavaScript class with the
<code>new</code> constructor syntax as well. For example:</p><x-quickdemo mode="javascript" value="const { Template } = modulo.part
let myTemplate = new Template('Hi {{ msg }}!')
console.log(myTemplate.render({ msg: 'there' })) // &quot;Hi there!&quot;
" modulo-mount-html=""><div class="editor-layout" style="--demo-width: 0px;">
        
            <x-syntaxhighlighter mode="javascript" value="const { Template } = modulo.part
let myTemplate = new Template('Hi {{ msg }}!')
console.log(myTemplate.render({ msg: 'there' })) // &quot;Hi there!&quot;
" style="font-size: 18px" modulo-mount-html=""><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Template</span> } = modulo.<span class="hljs-property">part</span>
<span class="hljs-keyword">let</span> myTemplate = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Template</span>(<span class="hljs-string">'Hi {{ msg }}!'</span>)
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myTemplate.<span class="hljs-title function_">render</span>({ <span class="hljs-attr">msg</span>: <span class="hljs-string">'there'</span> })) <span class="hljs-comment">// "Hi there!"</span>
</x-syntaxhighlighter>
        
        <div class="toolbar toolbar--small toolbar--autohide
             toolbar--snippet">
            
                <button><span alt="Clipboard icon">📋</span> Copy</button>
            
        </div>
        
    </div>
    <div class="overlay"></div></x-quickdemo>
<p>One use of this interface is enabling users to not only edit HTML (as with
<code>|safe</code>, described earlier), but also be able to edit template tags themselves.
Note that this will enable users to write and evaluate (potentially buggy)
custom JavaScript code, and thus should be used with even more caution than the
<code>|safe</code> filter.  An example of using this to allow users to program their own
templates is below:</p><x-quickdemo mode="modulo" demo="modulo" value="&lt;Template&gt;
    &lt;input state.bind name=&quot;data.name&quot; /&gt;
    &lt;input state.bind name=&quot;data.user&quot; /&gt;
    &lt;textarea state.bind name=&quot;template&quot;&gt;&lt;/textarea&gt;
    &lt;div&gt;{{ script.results|safe }}&lt;/div&gt;
&lt;/Template&gt;
&lt;State
    template=&quot;Hello &lt;em&gt;{{ name }}&lt;/em&gt;&lt;br /&gt;Username: &lt;tt&gt;{{ user }}&lt;/tt&gt;&quot;
    data:={}
    data.name=&quot;Pedro&quot;
    data.user=&quot;pramirez&quot;
&gt;&lt;/State&gt;
&lt;Script&gt;
    const { Template } = modulo.part
    function prepareCallback() {
        const myTemplate = new Template(state.template)
        const results = myTemplate.render(state.data)
        return { results }
    }
&lt;/Script&gt;
" modulo-mount-html=""><div class="editor-layout" style="--demo-width: 250px;">
        
            <x-mirroreditor name="value" mode="modulo" modulo-mount-html=""><div class="editor-wrapper" on.click="script.updateDimensions">
      <div class="editor-underlay-container" style="
            width:    224px
                    ;
            height:  48px
                    ;
          ">
          <div class="editor-underlay-offset-wrapper" style="
                
                
                
                    width: 224px; 
              "><x-syntaxhighlighter value="&lt;Template&gt;
    &lt;input state.bind name=&quot;data.name&quot; /&gt;
    &lt;input state.bind name=&quot;data.user&quot; /&gt;
    &lt;textarea state.bind name=&quot;template&quot;&gt;&lt;/textarea&gt;
    &lt;div&gt;{{ script.results|safe }}&lt;/div&gt;
&lt;/Template&gt;
&lt;State
    template=&quot;Hello &lt;em&gt;{{ name }}&lt;/em&gt;&lt;br /&gt;Username: &lt;tt&gt;{{ user }}&lt;/tt&gt;&quot;
    data:={}
    data.name=&quot;Pedro&quot;
    data.user=&quot;pramirez&quot;
&gt;&lt;/State&gt;
&lt;Script&gt;
    const { Template } = modulo.part
    function prepareCallback() {
        const myTemplate = new Template(state.template)
        const results = myTemplate.render(state.data)
        return { results }
    }
&lt;/Script&gt;
" mode="modulo" style="
                    font-family: monospace;
                    text-align: start;
                    resize: none;
                    box-sizing: border-box;
                    font-size: 18px;
                    
                        white-space: pre;
                    " modulo-mount-html=""><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">Template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">state.bind</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"data.name"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">state.bind</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"data.user"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">state.bind</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"template"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><span class="hljs-template-variable">{{ script.results|<span class="hljs-name">safe</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">Template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">State</span>
    <span class="hljs-attr">template</span>=<span class="hljs-string">"Hello &lt;em&gt;</span></span></span><span class="hljs-template-variable">{{ name }}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&lt;/em&gt;&lt;br /&gt;Username: &lt;tt&gt;</span></span></span><span class="hljs-template-variable">{{ user }}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&lt;/tt&gt;"</span>
    <span class="hljs-attr">data:</span>=<span class="hljs-modulo-attr-value-lit">{}</span>
    <span class="hljs-attr">data.name</span>=<span class="hljs-string">"Pedro"</span>
    <span class="hljs-attr">data.user</span>=<span class="hljs-string">"pramirez"</span>
&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">State</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-modulo-deftype">Script</span>&gt;</span><span class="language-javascript">
    <span class="hljs-keyword">const</span> { <span class="hljs-title class_">Template</span> } = modulo.<span class="hljs-property">part</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">prepareCallback</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">const</span> myTemplate = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Template</span>(state.<span class="hljs-property">template</span>)
        <span class="hljs-keyword">const</span> results = myTemplate.<span class="hljs-title function_">render</span>(state.<span class="hljs-property">data</span>)
        <span class="hljs-keyword">return</span> { results }
    }
</span><span class="hljs-tag">&lt;/<span class="hljs-modulo-deftype">Script</span>&gt;</span>
</span></x-syntaxhighlighter>
          </div>
      </div>
      <textarea data-gramm="false" name="value" spellcheck="false" style="
            font-size: 18px;
            
                white-space: pre;
            " script.ref="" on.scroll="script.updateDimensions"></textarea>
  </div></x-mirroreditor>
        
        <div class="toolbar toolbar--small toolbar--autohide
             ">
            
                <button><span alt="Clipboard icon">📋</span> Copy</button>
                <button><span alt="Refresh arrow in circle">⟳</span> Run</button>
                <button><span alt="Download arrow downward">⤓</span> Save</button>
            
        </div>
        
    <iframe></iframe></div>
    <div class="overlay"></div></x-quickdemo>
<blockquote>
  <p><strong>Can I force as unsafe?</strong> If a string was marked as safe and you want to
  "unmark" it, then simply add an empty string to add a new string:
  <code>{{ state.text|add:'' }}</code></p>
</blockquote></div>
                
            
        </main>
    </div>
            
        </body>
    </html>